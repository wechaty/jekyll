<!DOCTYPE html>
<html lang="en">
<head>
    <!-- https://github.com/t-richards/jekyll-google-tag-manager -->
    <!-- Begin Jekyll GTM tag v1.0.3 -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PD2PL84');</script>
<!-- End Jekyll GTM tag v1.0.3 -->


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    

    <title>
      Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat | Wechaty
    </title>

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat | Wechaty</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat" />
<meta name="author" content="lijiarui" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Wechaty has been updated to version 0.16(BETA) these days and begin to support all kinds of wechat solutions including web, ipad, ios, etc. My product based on wechaty has to migration from wechaty solution based on web to ipad solution." />
<meta property="og:description" content="Wechaty has been updated to version 0.16(BETA) these days and begin to support all kinds of wechat solutions including web, ipad, ios, etc. My product based on wechaty has to migration from wechaty solution based on web to ipad solution." />
<link rel="canonical" href="https://wechaty.js.org/2018/06/24/migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/" />
<meta property="og:url" content="https://wechaty.js.org/2018/06/24/migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/" />
<meta property="og:site_name" content="Wechaty" />
<meta property="og:image" content="https://wechaty.js.org/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-24T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://wechaty.js.org/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp" />
<meta property="twitter:title" content="Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"lijiarui"},"dateModified":"2018-06-24T00:00:00+00:00","datePublished":"2018-06-24T00:00:00+00:00","description":"Wechaty has been updated to version 0.16(BETA) these days and begin to support all kinds of wechat solutions including web, ipad, ios, etc. My product based on wechaty has to migration from wechaty solution based on web to ipad solution.","headline":"Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat","image":"https://wechaty.js.org/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp","mainEntityOfPage":{"@type":"WebPage","@id":"https://wechaty.js.org/2018/06/24/migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://wechaty.js.org/assets/images/logo.png"},"name":"lijiarui"},"url":"https://wechaty.js.org/2018/06/24/migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico">

    <link rel="manifest" href="/manifest.json">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://s3.pstatp.com/cdn/expire-1-M/font-awesome/5.3.1/css/all.css" crossorigin="anonymous">

    <!-- Google Fonts in China Thanks @crossly @sidny -->
    <link href="https://fonts.loli.net/css?family=Lora" rel="stylesheet">

    <!-- Bootstrap Modified -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/assets/css/theme.css">

    <!-- Highlight Stylesheet -->
    <link rel="stylesheet" href="/assets/css/highlight.css">

    <!-- Jquery on header to make sure everything works, the rest  of the scripts in footer for fast loading -->
    <script
    src="https://s0.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

    




</head>

<body class="">
    <!-- https://github.com/t-richards/jekyll-google-tag-manager -->
    <!-- Begin Jekyll GTM tag v1.0.3 (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PD2PL84"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Jekyll GTM tag v1.0.3 (noscript) -->


    <!-- Navbar -->
    <nav id="MagicMenu" class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/"><strong>Wechaty</strong></a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto d-flex align-items-center">
               <!--  Replace menu links here -->

<li class="nav-item">
  <a class="nav-link" href="/news/">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/blog/">Blog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://ship.fail" target="_blank">Ship.Fail</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://preangel.ai" target="_blank">PreAngel.AI</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/docs/">Docs</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/contributors/">Contributors</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://github.com/wechaty/PMC#wechaty-committers" target="_blank">Talks</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://github.com/wechaty/wechaty#readme" target="_blank">GitHub</a>
</li>


            </ul>
            <ul class="navbar-nav ml-auto d-flex align-items-center">
                <li class="nav-item">
                  <a class="nav-link" href="/search/">Search</a>
                </li>
            </ul>
        </div>
    </div>
    </nav>

  <!-- Search results moved to a dedicated /search page -->

    <!-- Content -->
    <main role="main" class="site-content">
        

<div class="container">
<div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
		<div class="h-100 tofront">
			<div class="row  justify-content-between ">
				<div class=" col-md-6  pr-0 pr-md-4 pt-4 pb-4 align-self-center">
					<p class="text-uppercase font-weight-bold">
            <span class="catlist">

            
              <a class="sscroll text-danger" href="/categories.html#migration">migration</a><span class="sep">, </span>
            

            </span>
					</p>
					<h1 class="display-4 mb-4 article-headline">Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat</h1>
					<div class="d-flex align-items-center">
                        
                          <a href="/contributors/lijiarui">
                            <img class="rounded-circle" src="/assets/contributors/lijiarui/avatar-new.webp" alt="Jiarui LI (李佳芮)" width="70"/>
                          </a>
                        
						<small class="ml-3"> <a href="/contributors/lijiarui">Jiarui LI (李佳芮)</a> <span><a target="_blank" href="https://weibo.com/u/2175505900" class="btn btn-outline-success btn-sm btn-round ml-1">Follow</a></span>
                            <span class="text-muted d-block mt-1">Jun 24, 2018 · <span class="reading-time">
  
  
    14 mins read
  
</span>
</span>
						</small>
					</div>
				</div>
                
				<div class="col-md-6 pr-0 align-self-center">
					<img class="rounded" src="/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp" alt="Migrating Wechaty v0.14 to v0.18 Guide - From Puppeteer To Padchat">
				</div>
                
			</div>
		</div>
	</div>
</div>





<div class="container-lg pt-4 pb-4">
	<div class="row justify-content-center">

    <!-- Share -->
<div class="col-lg-2 pr-4 mb-5 col-md-12">
  <div class="sticky-top sticky-top-offset text-center">
    <div class="text-muted">
    </div>
    <div class="share d-inline-block">
      <!-- AddToAny BEGIN -->
      <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
        <img id="qrcode" title="Wechat"
          src="/assets/contributors/wechaty/icon.png"
          width="64" height="64"
        />
        <a class="a2a_button_twitter" title='Twitter'></a>
        <a class="a2a_button_linkedin" title='LinkedIn'></a>
        <a class="a2a_button_facebook" title='FaceBook'></a>
        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
      </div>
      <script async src="https://static.addtoany.com/menu/page.js"></script>
      <!-- AddToAny END -->
    </div>
  </div>
</div>

<script>
  var href = document.location.href
  var url = 'https://api.qrserver.com/v1/create-qr-code/?data='
            + href
            + '&size=512x512'
  var img = document.getElementById('qrcode')

  img.src=encodeURI(url)
</script>


		<div class="col-md-12 col-lg-8">

      <!-- Article -->
			<article class="article-post">
			<p>Wechaty has been updated to version 0.16(BETA) these days and begin to support all kinds of wechat solutions including web, ipad, ios, etc. My product based on wechaty has to migration from wechaty solution based on web to ipad solution.</p>

<p>This blog introduces how to porting code from wechaty puppeteer to padchat.</p>

<p><img src="/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp" alt="code" /></p>

<h2 id="1-puppeteer-vs-padchat">1. Puppeteer VS Padchat</h2>

<p><strong>Puppet System</strong> means to connect Wechaty API to any kinds of Puppets, including Web, iPad, Android, Windows Hook and ios. Different implements of these puppets are totally different, without the puppet, using one API to bridge all implement is very difficult, so we had Puppet System.</p>

<p><img src="/assets/2018/abstract-info.webp" alt="Puppet" /></p>

<ul>
  <li>Puppeteer: a solution based on Web Wechat</li>
  <li>Padchat: a solution based on Ipad Wechat</li>
</ul>

<p>You can find more in this blog: <a href="https://wechaty.github.io/wechaty-new-release-version-0.16/">Wechaty New Version 0.16(BETA, with superpower) Released</a></p>

<h2 id="2-how-to-run-puppet-padchat">2. How to run puppet-padchat</h2>

<p>Wechaty will start with puppeteer(web solution) by default, if you want to change to padchat, you need to set the environmental variable.</p>

<p>See more in wechaty wiki: <a href="https://github.com/wechaty/wechaty/wiki/Puppet#2-run">How to run a new wecahty-puppet-padchat</a></p>

<h3 id="start-with-github-repo">Start with Github repo</h3>

<h4 id="1-pull-the-latest-code">1. Pull the latest code</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git pull
<span class="nb">rm</span> <span class="nt">-rf</span> package-lock.json
<span class="nb">rm</span> <span class="nt">-rf</span> node_modules/
npm <span class="nb">install</span>

<span class="c">#### 2. Get Token</span>

Participate <span class="k">in </span>our alpha <span class="nb">test </span>here: <span class="o">[</span>Wechaty v0.17 Padchat Testing: Win32/iPad/Android/iOS/API Puppets Support are coming!]<span class="o">(</span>https://github.com/wechaty/wechaty/issues/1296<span class="o">)</span> and Get <span class="sb">`</span>WECHATY_PUPPET_PADCHAT_TOKEN<span class="sb">`</span>

<span class="c">#### 3. Set environment variable and run</span>

image: /assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp
<span class="sb">```</span>shell
<span class="o">![</span>code]<span class="o">(</span>/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-en/code-migration.webp<span class="o">)</span>
</code></pre></div></div>

<h3 id="npm">NPM</h3>

<h4 id="1-install">1. Install</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install </span>wechaty@next
</code></pre></div></div>

<h4 id="2-get-token">2. Get token</h4>

<p>Participate in our alpha test here: <a href="https://github.com/wechaty/wechaty/issues/1296">Wechaty v0.17 Padchat Testing: Win32/iPad/Android/iOS/API Puppets Support are coming!</a> and Get <code class="language-plaintext highlighter-rouge">WECHATY_PUPPET_PADCHAT_TOKEN</code></p>

<h4 id="3-set-environment-variable--run">3. Set environment variable &amp; run</h4>

<p>Remeber to set <code class="language-plaintext highlighter-rouge">WECHATY_PUPPET=padchat</code> to change from puppeteer to padchat</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">WECHATY_PUPPET_PADCHAT_TOKEN</span><span class="o">=</span>your padchat token <span class="nv">WECHATY_PUPPET</span><span class="o">=</span>padchat   node examples/ding-dong-bot.js

</code></pre></div></div>

<h3 id="docker">Docker</h3>

<h4 id="1-install-docker">1. Install Docker</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull zixia/wechaty:latest
</code></pre></div></div>

<h4 id="2-get-token-for-docker">2. Get Token for Docker</h4>

<p>Participate in our alpha test here: <a href="https://github.com/wechaty/wechaty/issues/1296">Wechaty v0.17 Padchat Testing: Win32/iPad/Android/iOS/API Puppets Support are coming!</a> and Get <code class="language-plaintext highlighter-rouge">WECHATY_PUPPET_PADCHAT_TOKEN</code></p>

<h4 id="3-set-environment-variable-and-run">3. Set environment variable and Run</h4>

<ul>
  <li>Remeber to set <code class="language-plaintext highlighter-rouge">WECHATY_PUPPET=padchat</code> to change from puppeteer to padchat</li>
  <li>Remove wechaty in <code class="language-plaintext highlighter-rouge">node_module</code> if exist.</li>
</ul>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-t</span> <span class="nt">-i</span>  <span class="nt">-e</span> <span class="nv">WECHATY_PUPPET</span><span class="o">=</span><span class="s2">"padchat"</span> <span class="nt">-e</span> <span class="nv">WECHATY_PUPPET_PADCHAT_TOKEN</span><span class="o">=</span><span class="s2">"your token"</span>  <span class="nt">--volume</span><span class="o">=</span><span class="s2">"</span><span class="si">$(</span><span class="nb">pwd</span><span class="si">)</span><span class="s2">"</span>:/bot <span class="nt">--name</span><span class="o">=</span>wechaty zixia/wechaty:latest examples/ding-dong-bot.ts
</code></pre></div></div>

<h2 id="3-check-code">3. Check Code</h2>

<p>Wechaty is written by typescript, all with strong typing. Since to change all wechaty code, I change my logic product to strong typing.</p>

<p>We need tools to help us check our code errors. I use <strong>TSLint</strong> to help me to check typescript code and use VS CODE as my IDE.</p>

<h3 id="why-we-need-to-check-code">Why we need to check code</h3>

<p>Maybe you think JavaScript is so flexible so it needs to be checked, but typescript has been able to check out a lot of problems when compiling. Why do we still need to check the code?</p>

<p>This is because TypeScript focuses on the type of match, not the code style. When there are more and more people on our team, the same logic may be totally different in different people:</p>

<ul>
  <li>Four spaces indentation or two spaces indentation?</li>
  <li>Should we disable <code class="language-plaintext highlighter-rouge">var</code>?</li>
  <li>Should all the interface name begin with <code class="language-plaintext highlighter-rouge">I</code>?</li>
  <li>Should it be mandatory to use <code class="language-plaintext highlighter-rouge">===</code> instead of <code class="language-plaintext highlighter-rouge">==</code>?</li>
  <li>Should we need a semicolon?</li>
</ul>

<p>TypeScript will not concern these problems, but these affect the efficiency of multi-person collaboration when developing, and how easy the code to read and maintain.</p>

<p><a href="https://ts.xcatliu.com/engineering/lint.html">This blog</a> explain why we need to check code in typescript.</p>

<p>In one word, though code errors are more important than the uniform code style when a project becomes bigger and more and more developers join in, the code style constraints are still very important.</p>

<h3 id="using-tslint">Using TSLint</h3>

<p>TSLint is an extensible static analysis tool that checks TypeScript code for readability, maintainability, and functionality errors. It is widely supported across modern editors &amp; build systems and can be customized with your own lint rules, configurations, and formatters. Learn more in <a href="https://palantir.github.io/tslint/">TSLint Website</a></p>

<h4 id="1-install-tslint">1. Install TSLint</h4>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> tslint
npm <span class="nb">install </span>tslint-config-standard
</code></pre></div></div>

<h4 id="2-config-file">2. Config File</h4>

<p>Create config file <code class="language-plaintext highlighter-rouge">tslint.json</code></p>

<p>I suggest to refer wechaty config about <code class="language-plaintext highlighter-rouge">tslint</code> and <code class="language-plaintext highlighter-rouge">tsconfig</code></p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/blob/main/tslint.json">tslint config file in wechaty</a></li>
  <li><a href="https://github.com/wechaty/wechaty/blob/main/tsconfig.json">tsconfig config file in wechaty</a></li>
</ul>

<p>Here are some tips about wehcaty config:</p>

<ul>
  <li>“strict” : true
  Enable all strict type checking options.
  Enabling –strict enables –noImplicitAny, –noImplicitThis, –alwaysStrict, –strictNullChecks, –strictFunctionTypes and –strictPropertyInitialization</li>
  <li>“noEmitOnError”              : true
  Do not emit outputs if any errors were reported.</li>
  <li>“noUnusedLocals”             : true
  Report errors on unused locals.</li>
  <li>“noImplicitReturns”          : true
  Report error when not all code paths in function return a value.</li>
  <li>“noFallthroughCasesInSwitch” : true
  Report errors for fallthrough cases in switch statement.</li>
  <li>“strictNullChecks”           : true
  In strict null checking mode, the null and undefined values are not in the domain of every type and are only assignable to themselves and any (the one exception being that undefined is also assignable to void).</li>
  <li>“noImplicitAny”              : true
  Raise error on expressions and declarations with an implied any type.
  Related issue: <a href="https://github.com/wechaty/wechaty/issues/1383">ts-node 7.0 breaking change: Skip <code class="language-plaintext highlighter-rouge">files</code> by default</a></li>
  <li>“no-floating-promises”: true
  Check the floating promise。Related issue: <a href="https://github.com/wechaty/wechaty/issues/1346">Prevent the Floating Promise in the Async/Await Code</a></li>
  <li>“noUnusedParameters”         : true
  Report errors on unused parameters.。</li>
  <li>“noImplicitThis”             : true
  Raise error on this expression with an implied any type.</li>
</ul>

<p>see more in <a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html">official website</a></p>

<h4 id="3-add-tslint-script-for-packagejson">3. Add tslint script for package.json</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"lint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tslint --project . src/**/*.ts src/**/*.tsx"</span><span class="p">,</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">-- project .</code> require all tslint to use <code class="language-plaintext highlighter-rouge">tsconfig.json</code> configuration of the current directory to get the information.</p>

<p>Then run <code class="language-plaintext highlighter-rouge">npm run lint</code> will check the whole code.</p>

<h4 id="4-add-tslint-to-vscode">4. Add TSLint to VSCode</h4>

<p>Search <code class="language-plaintext highlighter-rouge">tslint</code> and install a plugin for vscode. It is enabled by default.</p>

<h4 id="5-sweet-tips">5. Sweet Tips</h4>

<p>I also recommend another plugin in vscode: <code class="language-plaintext highlighter-rouge">editorconfig</code>: EditorConfig helps developers define and maintain consistent coding styles between different editors and IDEs. see more: <a href="https://editorconfig.org/">Official EditorConfig Website</a></p>

<p>You can find wechaty editorconfig in <a href="https://github.com/wechaty/wechaty/blob/main/.editorconfig">.editorconfig</a></p>

<h2 id="4-breaking-changes">4. BREAKING CHANGES</h2>

<p>After upgrade wechaty, see more in<a href="https://wechaty.github.io/wechaty-new-release-version-0.16/">blog</a>. Although we are trying to minimize API changes, there are some breaking changes. I really suggest you reading <a href="https://github.com/wechaty/wechaty/blob/main/CHANGELOG.md">CHANGE LOG</a>. Also, I list some important changes here:</p>

<h3 id="botinit-change-to--botstart">bot.init() change to  bot.start()</h3>

<h3 id="botquit-change-to-botstop">bot.quit() change to bot.stop()</h3>

<h3 id="friendrequest-change-to-friendship">FriendRequest change to Friendship</h3>

<p><code class="language-plaintext highlighter-rouge">FriendRequest</code> class refactored.</p>

<h4 id="before-v014-or-below">Before (v0.14 or below)</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">wechaty</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">friend</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">contact</span><span class="p">,</span> <span class="nx">request</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">request</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// this is a friend request confirmation event</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// this is a friend request</span>
  <span class="p">}</span>
<span class="p">})</span>

</code></pre></div></div>

<h4 id="after-v016-or-above">After (v0.16 or above)</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">wechaty</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">friendship</span><span class="dl">'</span><span class="p">,</span> <span class="nx">request</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nf">type</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">FriendRequest</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="na">RECEIVE</span><span class="p">:</span>
      <span class="c1">// this is a friend request request</span>
      <span class="k">break</span>
    <span class="k">case</span> <span class="nx">FriendRequest</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="na">CONFIRM</span><span class="p">:</span>
      <span class="c1">// this is a friend request confirmation</span>
      <span class="k">break</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Related link:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/blob/main/examples/friend-bot.ts">friend-bot.ts</a></li>
  <li><a href="https://github.com/wechaty/wechaty/issues/1196">BREAKING CHANGE: v0.16 on(‘friend`) arguments changed!</a></li>
  <li><a href="https://github.com/wechaty/wechaty/issues/1312">BREAKING CHANGES v0.16: FriendRequest class will be replaced with Friendship</a></li>
</ul>

<h3 id="messagecontent-change-to-messagetext">Message.content() change to Message.text()</h3>

<p>From v0.16, Message.content() will be deprecated.
From v0.18, Message.content() will be removed.</p>

<p>Related Link:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1163">BREAKING CHANGE: v0.16 will replace <code class="language-plaintext highlighter-rouge">Message.content()</code> with <code class="language-plaintext highlighter-rouge">Message.text()</code></a></li>
</ul>

<h3 id="remove-mediamessage-class">Remove <code class="language-plaintext highlighter-rouge">MediaMessage</code> class</h3>

<p>From v0.16, MediaMessage will be deprecated.
From v0.18, MediaMessage will be removed.</p>

<p>Use Message instead.</p>

<p>Migration Example</p>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- bot.say(new MediaMessage('/image.png')
</span><span class="gi">+ bot.say(new Message('/image.png')
</span></code></pre></div></div>

<p>Related issue</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1164">BREAKING CHANGE: v0.16 will remove <code class="language-plaintext highlighter-rouge">MediaMessage</code> class</a></li>
</ul>

<h4 id="a-useful-tip-to-send-the-image">A useful tip to send the image</h4>

<p><a href="https://www.npmjs.com/package/file-box">FileBox</a>, FileBox is a virtual container for packing a file data into it for future readers, and easily transport between servers with the least payload, no mater than where it is (local path, remote URL, or cloud storage).</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">fileBox</span> <span class="o">=</span> <span class="nx">FileBox</span><span class="p">.</span><span class="nf">fromStream</span><span class="p">(</span>
<span class="nx">fs</span><span class="p">.</span><span class="nf">createReadStream</span><span class="p">(</span><span class="nx">BOT_QR_CODE_IMAGE_FILE</span><span class="p">),</span>
<span class="nx">BOT_QR_CODE_IMAGE_FILE</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h3 id="wechaty-self-change-to-wechatyuserself">Wechaty self() change to Wechaty.userSelf()</h3>

<p>Related issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1369">BREAKING CHANGE v0.16 Wechaty.self() eprecated, use Wechaty.userSelf() instead</a></li>
</ul>

<h3 id="contactpersonal-and-contactofficial-change-to-contacttype">Contact.personal() and Contact.official() change to Contact.type()</h3>

<h4 id="contactpersonal-before">Contact.personal() Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">isPersonal</span> <span class="o">=</span> <span class="nx">contact</span><span class="p">.</span><span class="nf">personal</span><span class="p">()</span>
<span class="kd">const</span> <span class="nx">isOfficial</span> <span class="o">=</span> <span class="nx">contact</span><span class="p">.</span><span class="nf">official</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="contactpersonal-safter">Contact.personal() sAfter</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cm">/**
   * Return the type of the Contact
   *
   * @returns ContactType - Contact.Type.PERSONAL for personal account, Contact.Type.OFFICIAL for official account
   * @example
   * const isOfficial = contact.type() === Contact.Type.OFFICIAL
   */</span>
  <span class="kd">const</span> <span class="kd">type</span> <span class="o">=</span> <span class="nx">Contact</span><span class="p">.</span><span class="nf">type</span><span class="p">()</span>
</code></pre></div></div>

<p>Related issue</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1366">BREAKING CHANGE v0.16 Contact.personal() and Contact.official() deprecated, use Contact.type() instead</a></li>
</ul>

<h3 id="roomadd-return-from-promise-boolean-to-promisevoid">Room.add() return from Promise <code class="language-plaintext highlighter-rouge">&lt;boolean&gt;</code> to <code class="language-plaintext highlighter-rouge">Promise&lt;void&gt;</code></h3>

<p>Related issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1362">BREAKING CHANGE v0.16 room.add return <code class="language-plaintext highlighter-rouge">Promise&lt;void&gt;</code> instead of return <code class="language-plaintext highlighter-rouge">Promise&lt;boolean&gt;</code></a></li>
</ul>

<h3 id="roomtopic-change-from-sycn-to-async">Room.topic() change from Sycn to Async</h3>

<h4 id="roomtopic-before">Room.topic() Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">topic</span> <span class="o">=</span> <span class="nx">room</span><span class="p">.</span><span class="nf">topic</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="roomtopic-after">Room.topic() After</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">topic</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">room</span><span class="p">.</span><span class="nf">topic</span><span class="p">()</span>
</code></pre></div></div>

<p>Related issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1295">BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">Room.topic()</code> change from Sycn to Async</a></li>
</ul>

<h3 id="roomaliascontact-change-from-sycn-to-async">Room.alias(contact) change from Sycn to Async</h3>

<h4 id="roomaliascontact-before">Room.alias(contact) Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">alias</span> <span class="o">=</span> <span class="nx">room</span><span class="p">.</span><span class="nf">alias</span><span class="p">(</span><span class="nx">contact</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="roomaliascontact-after">Room.alias(contact) After</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">alias</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">room</span><span class="p">.</span><span class="nf">alias</span><span class="p">(</span><span class="nx">contact</span><span class="p">)</span>
</code></pre></div></div>

<p>Related issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1293">BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">Room.alias(contact)</code> change from Sycn to Async</a></li>
</ul>

<h3 id="roommemberlist-change-from-sycn-to-async">Room.memberList() change from Sycn to Async</h3>

<h4 id="roommemberlist-before">Room.memberList() Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">memberList</span> <span class="o">=</span> <span class="nx">room</span><span class="p">.</span><span class="nf">memberList</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="roommemberlist-after">Room.memberList() After</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">memberList</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">room</span><span class="p">.</span><span class="nf">memberList</span><span class="p">()</span>
</code></pre></div></div>

<p>Related Issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1290">BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">Room.memberList()</code> change from Sycn to Async</a></li>
</ul>

<h3 id="roommember-from-sync-to-async">Room.member() from sync to async</h3>

<h4 id="roommember-before">Room.member() Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">contact</span> <span class="o">=</span> <span class="nx">room</span><span class="p">.</span><span class="nf">member</span><span class="p">(</span><span class="dl">'</span><span class="s1">Huan</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="roommember-after">Room.member() After</h4>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- const contact = room.member('Huan')
</span><span class="gi">+ const contact = await room.member('Huan')
</span></code></pre></div></div>

<p>Related Issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1258">BREAKING CHANGES: v0.16 <code class="language-plaintext highlighter-rouge">Room.member()</code> from <code class="language-plaintext highlighter-rouge">sync</code> to <code class="language-plaintext highlighter-rouge">async</code></a></li>
</ul>

<h3 id="roomhascontact-change-from-sycn-to-async">Room.has(contact) change from Sycn to Async</h3>

<p>WARNING: This change will let us make more mistakes:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if </span><span class="p">(</span><span class="nx">room</span><span class="p">.</span><span class="nf">has</span><span class="p">(</span><span class="nx">contact</span><span class="p">))</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">here will always be executed because Promise === true</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="roomhascontact-before">Room.has(contact) Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">exist</span> <span class="o">=</span> <span class="nx">room</span><span class="p">.</span><span class="nf">has</span><span class="p">(</span><span class="nx">contact</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="roomhascontact-after">Room.has(contact) After</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">exist</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">room</span><span class="p">.</span><span class="nf">has</span><span class="p">(</span><span class="nx">contact</span><span class="p">)</span>
</code></pre></div></div>

<p>Related Link:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1289">BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">Room.has(contact)</code> change from Sycn to Async</a></li>
  <li><a href="https://www.meziantou.net/2017/11/20/detect-missing-await-in-typescript">Detect missing await in TypeScript</a></li>
</ul>

<h3 id="messagemention-change-from-sync-to-async">Message.mention() change from Sync to Async</h3>

<p>BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">Message.mention()</code> change from <code class="language-plaintext highlighter-rouge">sync</code> to <code class="language-plaintext highlighter-rouge">async</code></p>

<h4 id="messagemention-before">Message.mention() Before</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">mentionList</span> <span class="o">=</span> <span class="nx">message</span><span class="p">.</span><span class="nf">mention</span><span class="p">()</span>
</code></pre></div></div>

<h4 id="messagemention-after">Message.mention() After</h4>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- const mentionList = message.mention()
</span><span class="gi">+ const mentionList = await message.mention()
</span></code></pre></div></div>

<p>Related issue:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1259">BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">Message.mention()</code> change from <code class="language-plaintext highlighter-rouge">sync</code> to <code class="language-plaintext highlighter-rouge">async</code></a></li>
</ul>

<h3 id="scan-event-args-will-become-different"><code class="language-plaintext highlighter-rouge">scan</code> Event args will become different</h3>

<p>The good news is: the old code seems will run without problem, because it will just do nothing:</p>

<p><code class="language-plaintext highlighter-rouge">const loginUrl = url.replace(/\/qrcode\//, '/l/')</code></p>

<h4 id="scan-event-before"><code class="language-plaintext highlighter-rouge">scan</code> Event Before</h4>

<p><a href="https://github.com/wechaty/wechaty/blob/860e85ec776ac20e92751ec4b67e0d539ef40a16/examples/ding-dong-bot.ts#L74-L77">https://github.com/wechaty/wechaty/blob/860e85ec776ac20e92751ec4b67e0d539ef40a16/examples/ding-dong-bot.ts#L74-L77</a></p>

<h4 id="scan-event-after"><code class="language-plaintext highlighter-rouge">scan</code> Event After</h4>

<p><a href="https://github.com/wechaty/wechaty/blob/07008dff17ccc46b347ba28b85af167984573ea0/examples/ding-dong-bot.ts#L74-L76">https://github.com/wechaty/wechaty/blob/07008dff17ccc46b347ba28b85af167984573ea0/examples/ding-dong-bot.ts#L74-L76</a></p>

<p>Notice that we deleted the <del><code class="language-plaintext highlighter-rouge">const loginUrl = url.replace(/\/qrcode\//, '/l/')</code></del></p>

<p>Related Issues:</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1262">BREAKING CHANGE: v0.16 <code class="language-plaintext highlighter-rouge">scan</code> event args will be different!</a></li>
</ul>

<h3 id="class-cannot-be-instantiated-directly">Class cannot be instantiated directly</h3>

<h4 id="error-message">Error Message</h4>

<ol>
  <li>Error: the class cannot be instantiated directly!</li>
  <li>Error: must not use the global Message/Contact/Room. use a cloned child via clone class instead</li>
</ol>

<p>Currently, the <code class="language-plaintext highlighter-rouge">Contact</code>, <code class="language-plaintext highlighter-rouge">FriendRequest</code>, <code class="language-plaintext highlighter-rouge">Message</code>, and <code class="language-plaintext highlighter-rouge">Room</code> classes will not be able to instantiate directly, because they must attach with a Puppet.</p>

<p>They need to be <code class="language-plaintext highlighter-rouge">cloneClass()</code>-ed first, then attach the puppet, and at last they will be ready for use by:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">wechaty.Contact</code>, or</li>
  <li><code class="language-plaintext highlighter-rouge">puppet.Contact</code>, etc.</li>
</ol>

<h4 id="do-not">~<del>Do Not</del>~</h4>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Room</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">wechaty</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">room</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Room</span><span class="p">.</span><span class="nf">create</span><span class="p">(...)</span>
</code></pre></div></div>

<p>The above code will throw an error.</p>

<h4 id="do">Do</h4>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gd">- import { Room } from 'wechaty'
</span><span class="gi">+ import { Wechaty } from 'wechaty'
</span><span class="err">
</span><span class="gd">- const room = await Room.create(...)
</span><span class="gi">+ const wechaty = new Wechaty()
+ const room = await wechaty.Room.create(...)
</span></code></pre></div></div>

<p>So does Contact, FriendRequest, and Message.</p>

<p>Related Link</p>

<ol>
  <li>Wechaty Multi-Instance Support #518</li>
  <li>NPM <a href="https://www.npmjs.com/package/clone-class">clone-class</a></li>
  <li><a href="https://github.com/huan/node-clone-class/issues/5">https://github.com/huan/node-clone-class/issues/5</a></li>
</ol>

<p>Related issue</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1217">Error: class can not be instanciated directly!</a></li>
  <li><a href="https://github.com/wechaty/wechaty/issues/1364">BREAKING CHANGE v0.16 Contact, FriendRequest, Message, and Room classes will not be able to instantiate directly</a></li>
  <li><a href="https://github.com/wechaty/wechaty/issues/1161">Error: static puppet not found</a></li>
  <li><a href="https://github.com/wechaty/wechaty/issues/518">Wechaty Multi-Instance Suport</a></li>
  <li>NPM <a href="https://www.npmjs.com/package/clone-class">clone-class</a></li>
  <li><a href="https://github.com/huan/node-clone-class/issues/5">https://github.com/huan/node-clone-class/issues/5</a></li>
</ul>

<h3 id="messageext-return-ext-instead-of-ext-before">Message.ext() return ‘.ext’ instead of ‘ext’ before</h3>

<p>According to the <code class="language-plaintext highlighter-rouge">ext()</code> methods behavior in Node/Python/C# etc, the <code class="language-plaintext highlighter-rouge">ext()</code> always return the filename extension that including the dot(<code class="language-plaintext highlighter-rouge">.</code>).</p>

<p>So the following BREAKING CHANGE was made in v0.15:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">ext</span> <span class="o">=</span> <span class="nx">message</span><span class="p">.</span><span class="nf">ext</span><span class="p">()</span>
<span class="c1">// assume the filename is `test.txt`</span>
</code></pre></div></div>

<h4 id="before-v014-or-earlieer">Before (v0.14 or earlieer)</h4>

<p><code class="language-plaintext highlighter-rouge">assert(ext === 'txt')</code></p>

<h4 id="after-v016-or-later">After (v0.16 or later)</h4>

<p><code class="language-plaintext highlighter-rouge">assert(ext === '.txt')</code></p>

<p>Related Link</p>

<ul>
  <li><a href="https://github.com/wechaty/wechaty/issues/1168">BREAKING CHANGE: v0.16 Message.ext() return ‘.ext’ instead of ‘ext’ before</a></li>
</ul>

<p>Hmmm… That’s all and wish you can have a good coding experience, thanks!</p>

			</article>

			<!-- Tags -->
			<div class="mb-4">
				<span class="taglist">
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#code">code</a>
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#news">news</a>
				
				</span>
			</div>

            <!-- Mailchimp Subscribe Form -->
            
			<div class="border p-5 bg-lightblue">
				<div class="row justify-content-between">
					<div class="col-md-6 mb-2 mb-md-0">
						<h5 class="font-weight-bold">Join Newsletter</h5>
						 Get the latest news right in your inbox. We never spam!
					</div>
					<div class="col-md-6">
						<div class="row">
              <form action="https://zixia.us4.list-manage.com/subscribe/post?u=a8584b55dea5aa8bbc14bd1a0&amp;id=d9899f0d70" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate w-100" target="_blank" novalidate>
                <input type="email" placeholder="Enter e-mail address" name="EMAIL" class="required email form-control w-100" id="mce-EMAIL" autocomplete="on" required>
                <input type="text"  placeholder="Name"                 name="FNAME" class="required form-control w-100"       id="mce-FNAME" autocomplete="on" required>
                <button type="submit" value="Subscribe" name="subscribe" class="heart btn btn-success btn-block w-100 mt-2">Subscribe</button>
              </form>
						</div>
					</div>
				</div>
			</div>
            


             <!-- Author Box -->
                
				<div class="row mt-5">
					<div class="col-md-2 align-self-center">
                        
                          <a href="/contributors/lijiarui">
                            <img class="rounded-circle" src="/assets/contributors/lijiarui/avatar-new.webp" alt="Jiarui LI (李佳芮)" width="90"/>
                          </a>
                        
					</div>
					<div class="col-md-10">
                        <h5 class="font-weight-bold">Written by <a href="/contributors/lijiarui">Jiarui LI (李佳芮)</a> <span><a target="_blank" href="https://weibo.com/u/2175505900" class="btn btn-outline-success btn-sm btn-round ml-2">Follow</a></span></h5>
						Co-Creator of Wechaty; 句子互动创始人 & CEO，微软人工智能最具价值专家 (AI MVP)
					</div>
				</div>
                

            <!-- Comments -->
            
                <!--  Giscus embeds GitHub Discussions for per-post comments. Configuration intentionally hard-coded. -->

<div id="comments" class="mt-5">
    <script src="https://giscus.app/client.js"
            data-repo="wechaty/js.org"
            data-repo-id="R_kgDOHF4w6Q"
            data-category="General"
            data-category-id="DIC_kwDOHF4w6c4Cx6g7"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="1"
            data-input-position="bottom"
            data-theme="light"
            data-lang="en"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>
        Comments require JavaScript. You can also join the discussion on our
        <a href="https://github.com/wechaty/js.org/discussions/categories/general" rel="noopener" target="_blank">GitHub Discussions</a> page.
    </noscript>
</div>

            

		</div>


	</div>
</div>


<!-- Aletbar Prev/Next -->
<div class="alertbar">
    <div class="container">
        <div class="row prevnextlinks small font-weight-bold">
          
            <div class="col-md-6 rightborder pl-0">
                <a class="text-dark" href="/2018/06/21/wechaty-new-release-version-0.16/"> <img height="30px" class="mr-1" src="https://wechaty.js.org/assets/2018/huan-wechaty-new-version-0.16.webp">  Wechaty New Version 0.16(BETA, with super power) Released</a>
            </div>
          
          
            <div class="col-md-6 text-right pr-0">
                <a class="text-dark" href="/2018/06/24/migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-zh/"> 如何将业务代码从Puppeteer 迁移到Padchat  <img height="30px" class="ml-1" src="https://wechaty.js.org/assets/2018/06-24-migrating-wechaty-v0.14-to-v0.18-guide-from-puppeteer-to-padchat-zh/code-migration-zh.webp"> </a>
            </div>
          
        </div>
    </div>
</div>

    </main>


    <!-- Scripts: popper, bootstrap, theme, lunr -->
    <script src="https://cdnjs.loli.net/ajax/libs/popper.js/1.14.6/umd/popper.min.js" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" crossorigin="anonymous"></script>

    <script src="/assets/js/theme.js"></script>

  





    <!-- Footer -->
    <footer class="bg-white border-top p-3 text-muted small">
        <div class="container">
        <div class="row align-items-center justify-content-between">
            <div>
                <a href="#" class="text-muted navbar-brand mr-2 mb-0">
                  <strong>Wechaty</strong>
                </a>
                <span>Copyright © <script>document.write(new Date().getFullYear())</script></span>
                |
                <a
                  class="text-muted"
                  target="_blank"
                  href="/branding/"
                >
                  Branding
                </a>

                <!--  Github Repo Star Btn-->
                <a class="text-dark ml-1" target="_blank" href="https://github.com/wechaty"><i class="fab fa-github"></i> </a>

            </div>

            <div class="text-gray">
              Powered by
              <a
                class="text-gray font-weight-bold"
                target="_blank"
                href="https://www.wowthemes.net/mundana-jekyll-theme/"
              >
                Mundana Jekyll Theme
              </a>
              .
            </div>
        </div>
        </div>
    </footer>

    <!-- All this area goes before             <script>
                window.onload = function () {
                    var script = document.createElement('script');
                    var firstScript = document.getElementsByTagName('script')[0];
                    script.type = 'text/javascript';
                    script.async = true;
                    script.src = '/sw-register.js?v=' + Date.now();
                    firstScript.parentNode.insertBefore(script, firstScript);
                };
            </script>
            </body>
 closing tag -->


</body>

</html>
