<!DOCTYPE html>
<html lang="en">
<head>
    <!-- https://github.com/t-richards/jekyll-google-tag-manager -->
    <!-- Begin Jekyll GTM tag v1.0.3 -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PD2PL84');</script>
<!-- End Jekyll GTM tag v1.0.3 -->


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    

    <title>
      å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥ | Wechaty
    </title>

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥ | Wechaty</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥" />
<meta name="author" content="tomallv" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="å› ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·éƒ½å–œæ¬¢é€šè¿‡å¾®ä¿¡ç¾¤è®¨è®ºçš„æ–¹å¼è¿›è¡Œäº§å“é—®é¢˜åé¦ˆï¼Œè¿™æ— ç–‘ç»™æ—¥å¸¸çš„çº¿ä¸Šé—®é¢˜å¤„ç†çš„æ•ˆç‡å¸¦æ¥æå¤§çš„å½±å“ã€‚æ›¾ç»å°è¯•å¯¹ç”¨æˆ·ä¹ æƒ¯è¿›è¡Œçº¿ä¸Šå¡«å†™æ–¹å¼çš„å¼•å¯¼ï¼Œä½†æœ€ç»ˆä»¥å¤±è´¥å‘Šç»ˆã€‚æ— å¥ˆä¸‹çœ‹çœ‹å¼„ä¸€ä¸ªå¾®ä¿¡ç¾¤ç›‘æ§æœºå™¨äººæ˜¯å¦å¯è¡Œã€‚" />
<meta property="og:description" content="å› ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·éƒ½å–œæ¬¢é€šè¿‡å¾®ä¿¡ç¾¤è®¨è®ºçš„æ–¹å¼è¿›è¡Œäº§å“é—®é¢˜åé¦ˆï¼Œè¿™æ— ç–‘ç»™æ—¥å¸¸çš„çº¿ä¸Šé—®é¢˜å¤„ç†çš„æ•ˆç‡å¸¦æ¥æå¤§çš„å½±å“ã€‚æ›¾ç»å°è¯•å¯¹ç”¨æˆ·ä¹ æƒ¯è¿›è¡Œçº¿ä¸Šå¡«å†™æ–¹å¼çš„å¼•å¯¼ï¼Œä½†æœ€ç»ˆä»¥å¤±è´¥å‘Šç»ˆã€‚æ— å¥ˆä¸‹çœ‹çœ‹å¼„ä¸€ä¸ªå¾®ä¿¡ç¾¤ç›‘æ§æœºå™¨äººæ˜¯å¦å¯è¡Œã€‚" />
<link rel="canonical" href="https://wechaty.js.org/2020/09/04/issue-feedback-room-monitor/" />
<meta property="og:url" content="https://wechaty.js.org/2020/09/04/issue-feedback-room-monitor/" />
<meta property="og:site_name" content="Wechaty" />
<meta property="og:image" content="https://wechaty.js.org/assets/2020/issue-feedback-room-monitor/way.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-04T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://wechaty.js.org/assets/2020/issue-feedback-room-monitor/way.webp" />
<meta property="twitter:title" content="å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"tomallv"},"dateModified":"2020-09-04T00:00:00+00:00","datePublished":"2020-09-04T00:00:00+00:00","description":"å› ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·éƒ½å–œæ¬¢é€šè¿‡å¾®ä¿¡ç¾¤è®¨è®ºçš„æ–¹å¼è¿›è¡Œäº§å“é—®é¢˜åé¦ˆï¼Œè¿™æ— ç–‘ç»™æ—¥å¸¸çš„çº¿ä¸Šé—®é¢˜å¤„ç†çš„æ•ˆç‡å¸¦æ¥æå¤§çš„å½±å“ã€‚æ›¾ç»å°è¯•å¯¹ç”¨æˆ·ä¹ æƒ¯è¿›è¡Œçº¿ä¸Šå¡«å†™æ–¹å¼çš„å¼•å¯¼ï¼Œä½†æœ€ç»ˆä»¥å¤±è´¥å‘Šç»ˆã€‚æ— å¥ˆä¸‹çœ‹çœ‹å¼„ä¸€ä¸ªå¾®ä¿¡ç¾¤ç›‘æ§æœºå™¨äººæ˜¯å¦å¯è¡Œã€‚","headline":"å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥","image":"https://wechaty.js.org/assets/2020/issue-feedback-room-monitor/way.webp","mainEntityOfPage":{"@type":"WebPage","@id":"https://wechaty.js.org/2020/09/04/issue-feedback-room-monitor/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://wechaty.js.org/assets/images/logo.png"},"name":"tomallv"},"url":"https://wechaty.js.org/2020/09/04/issue-feedback-room-monitor/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico">

    <link rel="manifest" href="/manifest.json">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://s3.pstatp.com/cdn/expire-1-M/font-awesome/5.3.1/css/all.css" crossorigin="anonymous">

    <!-- Google Fonts in China Thanks @crossly @sidny -->
    <link href="https://fonts.loli.net/css?family=Lora" rel="stylesheet">

    <!-- Bootstrap Modified -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/assets/css/theme.css">

    <!-- Highlight Stylesheet -->
    <link rel="stylesheet" href="/assets/css/highlight.css">

    <!-- Jquery on header to make sure everything works, the rest  of the scripts in footer for fast loading -->
    <script
    src="https://s0.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

    




</head>

<body class="">
    <!-- https://github.com/t-richards/jekyll-google-tag-manager -->
    <!-- Begin Jekyll GTM tag v1.0.3 (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PD2PL84"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Jekyll GTM tag v1.0.3 (noscript) -->


    <!-- Navbar -->
    <nav id="MagicMenu" class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/"><strong>Wechaty</strong></a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto d-flex align-items-center">
               <!--  Replace menu links here -->

<li class="nav-item">
  <a class="nav-link" href="/news/">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/blog/">Blog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://ship.fail" target="_blank">Ship.Fail</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://preangel.ai" target="_blank">PreAngel.AI</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/docs/">Docs</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/contributors/">Contributors</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://github.com/wechaty/PMC#wechaty-committers" target="_blank">Talks</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://github.com/wechaty/wechaty#readme" target="_blank">GitHub</a>
</li>


            </ul>
            <ul class="navbar-nav ml-auto d-flex align-items-center">
                <li class="nav-item">
                  <a class="nav-link" href="/search/">Search</a>
                </li>
            </ul>
        </div>
    </div>
    </nav>

  <!-- Search results moved to a dedicated /search page -->

    <!-- Content -->
    <main role="main" class="site-content">
        

<div class="container">
<div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
		<div class="h-100 tofront">
			<div class="row  justify-content-between ">
				<div class=" col-md-6  pr-0 pr-md-4 pt-4 pb-4 align-self-center">
					<p class="text-uppercase font-weight-bold">
            <span class="catlist">

            
              <a class="sscroll text-danger" href="/categories.html#tutorial">tutorial</a><span class="sep">, </span>
            

            </span>
					</p>
					<h1 class="display-4 mb-4 article-headline">å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥</h1>
					<div class="d-flex align-items-center">
                        
                          <a href="/contributors/tomallv">
                            <img class="rounded-circle" src="/assets/contributors/tomallv/header.webp" alt="tomallv" width="70"/>
                          </a>
                        
						<small class="ml-3"> <a href="/contributors/tomallv">tomallv</a> <span><a target="_blank" href="" class="btn btn-outline-success btn-sm btn-round ml-1">Follow</a></span>
                            <span class="text-muted d-block mt-1">Sep 04, 2020 Â· <span class="reading-time">
  
  
    11 mins read
  
</span>
</span>
						</small>
					</div>
				</div>
                
				<div class="col-md-6 pr-0 align-self-center">
					<img class="rounded" src="/assets/2020/issue-feedback-room-monitor/way.webp" alt="å®ç°å¾®ä¿¡äº§å“é—®é¢˜åé¦ˆç¾¤å®æ—¶ç›‘æ§ä¸é—®é¢˜è‡ªåŠ¨å½•å…¥">
				</div>
                
			</div>
		</div>
	</div>
</div>





<div class="container-lg pt-4 pb-4">
	<div class="row justify-content-center">

    <!-- Share -->
<div class="col-lg-2 pr-4 mb-5 col-md-12">
  <div class="sticky-top sticky-top-offset text-center">
    <div class="text-muted">
    </div>
    <div class="share d-inline-block">
      <!-- AddToAny BEGIN -->
      <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
        <img id="qrcode" title="Wechat"
          src="/assets/contributors/wechaty/icon.png"
          width="64" height="64"
        />
        <a class="a2a_button_twitter" title='Twitter'></a>
        <a class="a2a_button_linkedin" title='LinkedIn'></a>
        <a class="a2a_button_facebook" title='FaceBook'></a>
        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
      </div>
      <script async src="https://static.addtoany.com/menu/page.js"></script>
      <!-- AddToAny END -->
    </div>
  </div>
</div>

<script>
  var href = document.location.href
  var url = 'https://api.qrserver.com/v1/create-qr-code/?data='
            + href
            + '&size=512x512'
  var img = document.getElementById('qrcode')

  img.src=encodeURI(url)
</script>


		<div class="col-md-12 col-lg-8">

      <!-- Article -->
			<article class="article-post">
			<p>å› ä¸ºæˆ‘ä»¬çš„ç”¨æˆ·éƒ½å–œæ¬¢é€šè¿‡å¾®ä¿¡ç¾¤è®¨è®ºçš„æ–¹å¼è¿›è¡Œäº§å“é—®é¢˜åé¦ˆï¼Œè¿™æ— ç–‘ç»™æ—¥å¸¸çš„çº¿ä¸Šé—®é¢˜å¤„ç†çš„æ•ˆç‡å¸¦æ¥æå¤§çš„å½±å“ã€‚æ›¾ç»å°è¯•å¯¹ç”¨æˆ·ä¹ æƒ¯è¿›è¡Œçº¿ä¸Šå¡«å†™æ–¹å¼çš„å¼•å¯¼ï¼Œä½†æœ€ç»ˆä»¥å¤±è´¥å‘Šç»ˆã€‚æ— å¥ˆä¸‹çœ‹çœ‹å¼„ä¸€ä¸ªå¾®ä¿¡ç¾¤ç›‘æ§æœºå™¨äººæ˜¯å¦å¯è¡Œã€‚</p>

<p>åœ¨ä¹‹å‰å…¬å¸æˆ‘æ›¾ç»ç”¨pythoné€šè¿‡itchatå¼„è¿‡ä¸€ä¸ªç¾¤æ’­æŠ¥BIæ•°æ®çš„æœºå™¨äººï¼Œä½†å› ä¸ºitcahté‡‡ç”¨çš„æ˜¯å¾®ä¿¡webåè®®ï¼Œå¾®ä¿¡ç›‘æ§ç‰¹åˆ«ä¸¥ï¼Œå¾ˆå¤šå·éƒ½ä¸èƒ½ä½¿ç”¨ï¼Œå³ä½¿ç™»å½•ä¸Šå»äº†è¿˜ä¼šç»å¸¸è«åæ‰çº¿ï¼Œæä¸ç¨³å®šã€‚å› æ­¤è¿™å›è‚¯å®šä¸èƒ½å†é€šè¿‡webåè®®çš„æ–¹å¼æ¥å¼„äº†ã€‚äºæ˜¯å¸¦ç€ä¸€ç‚¹ç‚¹æœŸç›¼å‘ç°äº†Wechatyè¿™ä¸ªæ”¯æŒå¾®ä¿¡ipadåè®®çš„SDKã€‚</p>

<h2 id="wechatyå®˜æ–¹å®šä¹‰">Wechatyå®˜æ–¹å®šä¹‰</h2>

<blockquote>
  <p>Wechatyæ˜¯ä¸€ä¸ªå¼€æºçš„çš„ä¸ªäººå·å¾®ä¿¡æœºå™¨äººæ¥å£ï¼Œä½¿ç”¨Typescriptæ„å»ºçš„Node.jsåº”ç”¨ã€‚æ”¯æŒå¤šç§å¾®ä¿¡æ¥å…¥æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç½‘é¡µï¼Œipadï¼Œiosï¼Œwindowsï¼Œandroid ç­‰ã€‚åŒæ—¶æ”¯æŒ Linux, Windows, Darwin(OSX/Mac) å’Œ Docker å¤šä¸ªå¹³å°ã€‚</p>
</blockquote>

<p>è¿™é‡Œå¿…é¡»è¦é‡ç‚¹æä¸€ä¸‹ï¼ŒToken æ˜¯ Wechaty å¼€æ”¾æºä»£ç é¡¹ç›®ä¸­æ‰€è®¾è®¡å’Œæ”¯æŒçš„ä¸€ç§è®¤è¯æŠ€æœ¯ï¼Œæ˜¯å¥å­äº’åŠ¨å…¬å¸åŸºäº Wechaty çš„ Puppet å®ç°æ’ä»¶å¯¹äº‘æœåŠ¡ API çš„æˆæƒè´¦å·ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€ä½ åœ¨ä½¿ç”¨Wechatyå¼€å‘åŸºäºipadåè®®çš„æœºå™¨äººä¹‹å‰å¿…é¡»è¦å…ˆæ‹¿åˆ°å¯ç”¨çš„tokenã€‚ä½ å¯ä»¥ä»Wechatyç¤¾åŒºç”³è¯·åˆ°ä¸€ä¸ª15å¤©æœ‰æ•ˆçš„è¯•ç”¨Tokenï¼Œè¿‡äº†è¯•ç”¨æœŸåå¯ä»¥é€‰æ‹©ä»˜è´¹è´­ä¹°ï¼ˆ200RMB/æœˆï¼‰æˆ–è€…æŒ‰ç…§å¦‚ä¸‹ä»‹ç»å°è¯•è·å–é•¿æœŸå…è´¹çš„Tokenï¼š<a href="https://github.com/juzibot/Welcome/wiki/Everything-about-Wechaty">Wechaty Token ç”³è¯·åŠä½¿ç”¨æ–‡æ¡£å’Œå¸¸è§é—®é¢˜</a></p>

<p>Wechatyç›®å‰å·²ç»æ”¯æŒäº†<code class="language-plaintext highlighter-rouge">Java</code>ã€<code class="language-plaintext highlighter-rouge">Python</code>ã€<code class="language-plaintext highlighter-rouge">Go</code>ã€<code class="language-plaintext highlighter-rouge">PHP</code>ç­‰å¤šç§è¯­è¨€ï¼Œä½†æ˜¯è¯¥SDKåŸç”Ÿæ˜¯ç”¨<code class="language-plaintext highlighter-rouge">TypeScript</code>ç¼–å†™çš„ï¼Œå¹¶ä¸”githubä¸Šå¤§é‡çš„demoå’Œå¼€æºé¡¹ç›®éƒ½æ˜¯ç”¨<code class="language-plaintext highlighter-rouge">node.js</code>å†™çš„ï¼Œå†åŠ ä¸ŠWechatyå®£ç§°å¯ä»¥é€šè¿‡6è¡Œä»£ç å°±å¯ä»¥å®ç°ä¸€ä¸ªæœºå™¨äººï¼Œäºæ˜¯æœ€ç»ˆå†³å®šç”¨ä¹‹å‰ä¸€ç‚¹ç¨šå«©çš„<code class="language-plaintext highlighter-rouge">JavaScript</code>å‰ç«¯å¼€å‘ç»éªŒæ‹¥æŠ±<code class="language-plaintext highlighter-rouge">node.js</code>å§ï¼</p>

<h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h3>

<ul>
  <li>
    <p><strong>å®˜æ–¹</strong> <a href="https://wechaty.js.org/docs/">APIæ–‡æ¡£</a></p>
  </li>
  <li>
    <p><strong>å®˜æ–¹demoï¼š</strong><a href="https://github.com/wechaty/wechaty-getting-started">wechaty-getting-started</a></p>
  </li>
  <li>
    <p><strong>wechaty-puppet-padplus</strong> <a href="https://github.com/wechaty/wechaty-puppet-padplus">ç¤ºä¾‹</a> ã€‚</p>
  </li>
  <li>
    <p><strong>Wechatyç¤¾åŒº</strong> <a href="https://wechaty.js.org/blog/">å¼€æºé¡¹ç›®</a></p>
  </li>
</ul>

<p>é€šè¿‡çŸ­æ—¶é—´çš„å­¦ä¹ å’Œå°è¯•åï¼Œå‘ç°åŸºæœ¬å¾®ä¿¡æœºå™¨äººå¸¸ç”¨çš„åŠŸèƒ½å®ç°å‡ ä¹éƒ½èƒ½ä»è¿™äº›å¼€æºçš„é¡¹ç›®ä¸­ç›´æ¥æ‹¿åˆ°ï¼Œç„¶åå†ç»“åˆè‡ªå·±çš„éœ€æ±‚å†è¿›è¡Œæ”¹è£…å°±å¯ä»¥äº†ï¼Œç¡®å®å¼€å‘èµ·æ¥æŒºæ–¹ä¾¿çš„ã€‚</p>

<h3 id="å¼€å‘ä¹‹å‰é¦–å…ˆè¦æ˜ç¡®ä¸€ä¸‹æ­¤æ¬¡çš„åŠŸèƒ½éœ€æ±‚">å¼€å‘ä¹‹å‰ï¼Œé¦–å…ˆè¦æ˜ç¡®ä¸€ä¸‹æ­¤æ¬¡çš„åŠŸèƒ½éœ€æ±‚</h3>

<ul>
  <li>
    <p><strong>è‡ªåŠ¨èŠå¤©</strong>ï¼šç¾¤èŠä¸­é€šè¿‡ <code class="language-plaintext highlighter-rouge">@[æœºå™¨äºº]xxx</code>,  æœºå™¨äººå›å¤é—®é¢˜åé¦ˆæ¨¡ç‰ˆä¿¡æ¯  ï¼ˆå·²å®Œæˆï¼‰</p>
  </li>
  <li>
    <p><strong>åŠ å…¥ç¾¤èŠè‡ªåŠ¨æ¬¢è¿</strong>ï¼šå½“æ–°çš„å°ä¼™ä¼´åŠ å…¥ç¾¤èŠåè‡ªåŠ¨ <code class="language-plaintext highlighter-rouge">@[æ–°çš„å°ä¼™ä¼´]</code> å‘ä¸€ä¸ªæ–‡å­—æ¬¢è¿  ï¼ˆå·²å®Œæˆï¼‰</p>
  </li>
  <li>
    <p><strong>æ¨é€æœºå™¨äººç™»é™†äºŒç»´ç åˆ°ä¼ä¸šå¾®ä¿¡</strong>ï¼šæœºå™¨äººæ‰çº¿åï¼Œè‡ªåŠ¨å°†äºŒç»´ç ä¿¡æ¯æ¨é€ç»™æŒ‡å®šä¼ä¸šå¾®ä¿¡ç¾¤ï¼ˆå·²å®Œæˆï¼‰</p>
  </li>
  <li>
    <p><strong>ç›‘æ§ç¾¤èŠä¿¡æ¯</strong>ï¼šå®æ—¶å°†èŠå¤©è®°å½•å…¥åº“  ï¼ˆå·²å®Œæˆï¼‰</p>
  </li>
  <li>
    <p><strong>è‡ªåŠ¨è¯†åˆ«é—®é¢˜åé¦ˆä¿¡æ¯</strong>ï¼šè‡ªåŠ¨è¯†åˆ«åˆ¤æ–­ç¾¤èŠä¸­é—®é¢˜åé¦ˆç±»ä¿¡æ¯ï¼Œå¹¶æ”¶çº³å…¥é—®é¢˜åº“  ï¼ˆå¼€å‘ä¸­ï¼‰</p>
  </li>
  <li>
    <p><strong>ç¾¤æ’­æŠ¥åŠŸ</strong>ï¼šæ¯å¤©ä¸‹ç­å‰æ’­æŠ¥é—®é¢˜æ”¶çº³å’Œæœªå…³é—­é—®é¢˜æƒ…å†µ  ï¼ˆæœªå¼€å§‹ï¼‰</p>
  </li>
</ul>

<p>é¡¹ç›®githubåœ°å€ï¼š  <a href="https://github.com/tomallv/wechat-group-chat-monitoring-robot">https://github.com/tomallv/wechat-group-chat-monitoring-robot</a></p>

<h3 id="ä¸€é¡¹ç›®ç»“æ„">ä¸€ã€é¡¹ç›®ç»“æ„</h3>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>|-- src/  
|---- index.js                   <span class="c"># å…¥å£æ–‡ä»¶  </span>
|---- config.js                  <span class="c"># é…ç½®æ–‡ä»¶  </span>
|---- onScan.js                  <span class="c"># æœºå™¨äººéœ€è¦æ‰«æäºŒç»´ç æ—¶ç›‘å¬å›è°ƒ  </span>
|---- onRoomJoin.js              <span class="c"># è¿›å…¥æˆ¿é—´ç›‘å¬å›è°ƒ  </span>
|---- onMessage.js               <span class="c"># æ¶ˆæ¯ç›‘å¬å›è°ƒ  </span>
|---- onFriendShip.js            <span class="c"># å¥½å‹æ·»åŠ ç›‘å¬å›è°ƒ  </span>
|---- onDatabaseOperation.js     <span class="c"># MySQLæ•°æ®åº“æ“ä½œå›è°ƒ  </span>
|---- onEnterpriseWechatBot.js   <span class="c"># ä¼ä¸šå¾®ä¿¡ç¾¤æ¶ˆæ¯å‘é€å›è°ƒ  </span>
|---- onFileIO.js                <span class="c"># æ–‡ä»¶è¯»å–å›è°ƒ  </span>
|-- package.json
</code></pre></div></div>

<h3 id="äºŒæ ¸å¿ƒåŒ…">äºŒã€æ ¸å¿ƒåŒ…</h3>

<ul>
  <li>
    <p><strong>Wechatyæ ¸å¿ƒåŒ…</strong>ï¼š  <code class="language-plaintext highlighter-rouge">npm install --save wechaty</code></p>
  </li>
  <li>
    <p><strong>padplusåè®®åŒ…</strong>ï¼š  <code class="language-plaintext highlighter-rouge">npm install --save wechaty-puppet-padplus</code></p>
  </li>
  <li>
    <p><strong>ç”ŸæˆäºŒç»´ç </strong>ï¼š  <code class="language-plaintext highlighter-rouge">npm install --save qrcode-terminal</code></p>
  </li>
</ul>

<h3 id="ä¸‰æ¥ä¸‹æ¥ä»‹ç»å‡ ä¸ªæ ¸å¿ƒä»£ç æ–‡ä»¶">ä¸‰ã€æ¥ä¸‹æ¥ä»‹ç»å‡ ä¸ªæ ¸å¿ƒä»£ç æ–‡ä»¶</h3>

<p><strong>1ã€é…ç½®æ–‡ä»¶</strong>ï¼ˆ <code class="language-plaintext highlighter-rouge">src/config.js</code>ï¼‰ï¼š</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
<span class="c1">// puppet_padplus Token</span>
<span class="na">token</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxxxx</span><span class="dl">"</span><span class="p">,</span>

<span class="c1">// æœºå™¨äººåå­—</span>
<span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxxxx</span><span class="dl">"</span><span class="p">,</span>

<span class="c1">// æˆ¿é—´/ç¾¤èŠ</span>
<span class="na">room</span><span class="p">:</span> <span class="p">{</span>
     <span class="c1">// åŠ å…¥æˆ¿é—´å›å¤</span>
     <span class="na">roomJoinReply</span><span class="p">:</span> <span class="s2">`\næ‚¨å¥½ï¼Œæ¬¢è¿æ‚¨çš„åŠ å…¥ï¼Œè¯·è‡ªè§‰éµå®ˆç¾¤è§„åˆ™ï¼Œæ–‡æ˜äº¤æµï¼ ğŸ˜Š\n\nå¦‚æ‚¨éœ€è¦åé¦ˆé—®é¢˜ï¼Œè¯·æŒ‰ç…§å¦‚ä¸‹æ¨¡ç‰ˆè¿›è¡Œæ‹·è´å¡«å†™ï¼Œè°¢è°¢ï¼š\né—®é¢˜åé¦ˆ\n[1-é—®é¢˜æè¿°]:\n[2-æˆªå›¾ä¿¡æ¯]:\n[3-è´¦å·ä¿¡æ¯]: \n[4-æ“ä½œç³»ç»Ÿ]:\n[5-æµè§ˆå™¨]:\n[6-å±å¹•åˆ†è¾¨ç‡]:\n[7-ç§»åŠ¨è®¾å¤‡å‹å·(APPã€å°ç¨‹åºç›¸å…³é—®é¢˜)]:\n[8-Appã€å°ç¨‹åºç‰ˆæœ¬ä¿¡æ¯(APPã€å°ç¨‹åºç›¸å…³é—®é¢˜)]:\n[9-æ¨¡å—ä¿¡æ¯]: A-å®˜ç½‘å‰å°ã€B-å°ç¨‹åºã€C-APPã€D-å¥èŠ’åå°ã€D-å­¦ä¹ ä¸­å¿ƒã€F-CRMã€G-H5ç½‘é¡µã€H-è€åå°ã€I-å…¶ä»–`</span>
<span class="p">},</span>

<span class="c1">// ç§äºº</span>
<span class="na">personal</span><span class="p">:</span> <span class="p">{</span>
     <span class="c1">// å¥½å‹éªŒè¯è‡ªåŠ¨é€šè¿‡å…³é”®å­—</span>
     <span class="na">addFriendKeywords</span><span class="p">:</span> <span class="p">[</span><span class="dl">"</span><span class="s2">xxxxxx</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xxxxxxx</span><span class="dl">"</span><span class="p">],</span>

     <span class="c1">// æ˜¯å¦å¼€å¯åŠ ç¾¤</span>
     <span class="na">addRoom</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">},</span>

<span class="c1">// mysqlæ•°æ®åº“é…ç½®ä¿¡æ¯</span>
<span class="na">mysql_db</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xxx.xxx.xxx.xxxx</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">port</span><span class="p">:</span> <span class="dl">'</span><span class="s1">3306</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">user</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xxxxxxxxxx</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">password</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xxxxxxx</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">database</span><span class="p">:</span> <span class="dl">'</span><span class="s1">xxxxxxx</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">charset</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">xxxxxxx</span><span class="dl">'</span>
<span class="p">},</span>

<span class="c1">// è¦æ¨é€æœºå™¨äººäºŒç»´ç ç™»é™†ä¿¡æ¯çš„åˆ‡é¡µå¾®ä¿¡ç¾¤webhook_key</span>
<span class="na">webhook_key</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxxxxxxxxxxxxxxxxxxxxx</span><span class="dl">"</span><span class="p">,</span>

<span class="c1">// æœºå™¨äººç™»é™†äºŒç»´ç å›¾ç‰‡æ–‡ä»¶åç§°</span>
<span class="na">qrcode_png</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxx.png</span><span class="dl">"</span>
<span class="p">}</span>

</code></pre></div></div>

<p><strong>2ã€å…¥å£æ–‡ä»¶ï¼ˆ <code class="language-plaintext highlighter-rouge">src/index.js</code>ï¼‰ï¼š</strong></p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Wechaty</span> <span class="p">}</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">wechaty</span><span class="dl">'</span> <span class="c1">// Wechatyæ ¸å¿ƒåŒ…  </span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">PuppetPadplus</span> <span class="p">}</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">wechaty-puppet-padplus</span><span class="dl">'</span> <span class="c1">// padplusåè®®åŒ…  </span>
<span class="k">import</span> <span class="nx">config</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./config</span><span class="dl">'</span> <span class="c1">// é…ç½®æ–‡ä»¶</span>

<span class="c1">//åˆå§‹åŒ–bot</span>
<span class="kd">const</span> <span class="nx">bot</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Wechaty</span><span class="p">({</span>  
 <span class="na">puppet</span><span class="p">:</span> <span class="k">new</span> <span class="nc">PuppetPadplus</span><span class="p">({</span>  
 <span class="na">token</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">token</span>  
 <span class="p">}),</span>  
 <span class="na">name</span><span class="p">:</span> <span class="nx">config</span><span class="p">.</span><span class="nx">name</span>  
<span class="p">})</span>

<span class="c1">//è°ƒç”¨ï¼Œç›‘å¬ï¼Œå¯åŠ¨</span>
<span class="k">import</span> <span class="nx">onScan</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./onScan</span><span class="dl">'</span>  
<span class="k">import</span> <span class="nx">onRoomJoin</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./onRoomJoin</span><span class="dl">'</span>  
<span class="k">import</span> <span class="nx">onMessage</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./onMessage</span><span class="dl">'</span>  
<span class="k">import</span> <span class="nx">onFriendShip</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./onFriendShip</span><span class="dl">'</span>  
<span class="nx">bot</span>  
 <span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">scan</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onScan</span><span class="p">)</span> <span class="c1">// æœºå™¨äººéœ€è¦æ‰«æäºŒç»´ç æ—¶ç›‘å¬  </span>
 <span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">room-join</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onRoomJoin</span><span class="p">)</span> <span class="c1">// åŠ å…¥æˆ¿é—´ç›‘å¬  </span>
 <span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">,</span> <span class="nf">onMessage</span><span class="p">(</span><span class="nx">bot</span><span class="p">))</span> <span class="c1">// æ¶ˆæ¯ç›‘å¬  </span>
 <span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">"</span><span class="s2">friendship</span><span class="dl">"</span><span class="p">,</span> <span class="nx">onFriendShip</span><span class="p">)</span> <span class="c1">// å¥½å‹æ·»åŠ ç›‘å¬  </span>
 <span class="p">.</span><span class="nf">start</span><span class="p">()</span>
</code></pre></div></div>

<p><strong>3ã€æœºå™¨äººæ‰çº¿ç›‘å¬å›è°ƒï¼ˆ<code class="language-plaintext highlighter-rouge">src/onScan.js</code>ï¼‰</strong></p>

<p>å½“æœºå™¨äººæ‰çº¿çš„æ—¶å€™ï¼Œå¾ˆå¤šå¼€æºé¡¹ç›®éƒ½æ˜¯å°†äºŒç»´ç ç”Ÿæˆåˆ°ç¨‹åºlogä¸­ï¼Œä¾›æ‰«æä½¿ç”¨ã€‚ä½†æ˜¯ä¸€èˆ¬æƒ…å†µå½“æœºå™¨äººæ”¾åˆ°æœåŠ¡å™¨çš„æ—¶å€™ï¼Œæ‰«æäºŒç»´ç å°±ä¼šå˜å¾—éå¸¸ä¸æ–¹ä¾¿ï¼Œå› æ­¤è¿™é‡Œç»“åˆä¼ä¸šå¾®ä¿¡ç¾¤æœºå™¨äººAPIå®ç°äº†ä¸€æ—¦æ‰çº¿å°±æŠŠç™»é™†äºŒç»´ç æ¨é€åˆ°ä¼ä¸šå¾®ä¿¡ç¾¤ä¸­ï¼Œè¿™æ ·éšæ—¶éšåœ°éƒ½å¯ä»¥è¿›è¡Œæ‰«æç™»é™†æ“ä½œäº†ã€‚åŒæ—¶ä¹Ÿè€ƒè™‘åŸºæœ¬ä¸Šæœºå™¨äººéƒ½æ˜¯ååŠå¤œä¼šå‘ç”Ÿæ‰çº¿æƒ…å†µï¼Œå› æ­¤è¿™é‡Œè®¾ç½®äº†æœ‰æ•ˆæ¨é€æ—¶é—´æ®µï¼Œä»¥é˜²æ­¢å¹²æ‰°æ­£å¸¸ä¼‘æ¯ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">Qrterminal</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">qrcode-terminal</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">qrimage</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">qr-image</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">fs</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">wechat_bot</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./onEnterpriseWechatBot</span><span class="dl">'</span> <span class="c1">// ä¼ä¸šå¾®ä¿¡æœºå™¨äººç¾¤å‘</span>
<span class="k">import</span> <span class="nx">config</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./config</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">path</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">defpath</span><span class="o">=</span><span class="nx">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span><span class="dl">'</span><span class="s1">../</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">qrcode_png_path</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nx">defpath</span><span class="p">,</span><span class="nx">config</span><span class="p">.</span><span class="nx">qrcode_png</span><span class="p">)</span>
<span class="kd">const</span> <span class="nx">weboot_key</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">webhook_key</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="kd">function</span> <span class="nf">onScan</span><span class="p">(</span><span class="nx">qrcode</span><span class="p">,</span> <span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Qrterminal</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="nx">qrcode</span><span class="p">,</span> <span class="p">{</span> <span class="na">small</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>
    <span class="kd">const</span> <span class="nx">myDate</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">()</span>
    <span class="kd">const</span> <span class="nx">current_hour</span> <span class="o">=</span> <span class="nx">myDate</span><span class="p">.</span><span class="nf">getHours</span><span class="p">();</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">å½“å‰å°æ—¶æ•°ï¼š </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">current_hour</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">çŠ¶æ€ç ï¼š </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">status</span><span class="p">);</span>

    <span class="c1">// è®¾ç½®æ—©ä¸Š8ç‚¹åˆ°æ™šä¸Š24ç‚¹ä¹‹é—´æ‰æ¨é€æ‰çº¿äºŒç»´ç </span>
    <span class="k">if </span><span class="p">(</span><span class="nx">current_hour</span> <span class="o">&gt;=</span> <span class="mi">8</span> <span class="o">&amp;&amp;</span> <span class="nx">current_hour</span> <span class="o">&lt;=</span><span class="mi">23</span><span class="p">)</span> <span class="p">{</span>
          <span class="kd">let</span> <span class="nx">link</span> <span class="o">=</span> <span class="dl">""</span>
          <span class="k">if </span><span class="p">(</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">2</span><span class="p">){</span>
                <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">æœºå™¨äººå·²ç»ä¸‹çº¿ï¼Œè¯·é‡æ–°æ‰«æäºŒç»´ç ç™»é™†: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">qrcode</span><span class="p">);</span>
                <span class="kd">const</span> <span class="nx">temp_qrcode</span> <span class="o">=</span> <span class="nx">qrimage</span><span class="p">.</span><span class="nf">image</span><span class="p">(</span><span class="nx">qrcode</span><span class="p">,</span> <span class="p">{</span><span class="na">size</span> <span class="p">:</span><span class="mi">6</span><span class="p">,</span> <span class="na">margin</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span> <span class="c1">// ç”Ÿæˆæœºå™¨äººç™»é™†äºŒç»´ç å›¾ç‰‡</span>
                <span class="nx">temp_qrcode</span><span class="p">.</span><span class="nf">pipe</span><span class="p">(</span><span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">).</span><span class="nf">createWriteStream</span><span class="p">(</span><span class="nx">qrcode_png_path</span><span class="p">).</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">finish</span><span class="dl">'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">write finished</span><span class="dl">'</span><span class="p">)}))</span>
                <span class="nx">link</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">æœºå™¨äººæ‰çº¿äº†ï¼Œè¯·ç‚¹å‡»å¦‚ä¸‹é“¾æ¥æŸ¥çœ‹ç™»é™†äºŒç»´ç :</span><span class="se">\n</span><span class="s1"> https://wechaty.js.org/qrcode/</span><span class="dl">'</span><span class="o">+</span> <span class="nx">qrcode</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">link</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">å·²æ‰«ç ï¼Œè¯·åœ¨æ‰‹æœºç«¯ç¡®è®¤ç™»é™†...</span><span class="dl">"</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">4</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">link</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">å·²ç¡®è®¤,ç™»é™†æˆåŠŸï¼</span><span class="dl">"</span>
          <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">status</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">link</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">äºŒç»´ç å·²è¿‡æœŸï¼</span><span class="dl">"</span>
          <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="nx">link</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">æœºå™¨äººæ‰çº¿äº†ï¼Œè¯·ç‚¹å‡»å¦‚ä¸‹é“¾æ¥æŸ¥çœ‹ç™»é™†äºŒç»´ç :</span><span class="se">\n</span><span class="s1"> https://wechaty.js.org/qrcode/</span><span class="dl">'</span><span class="o">+</span> <span class="nx">qrcode</span>
          <span class="p">}</span>
          <span class="nx">wechat_bot</span><span class="p">.</span><span class="nf">send_text</span><span class="p">(</span><span class="nx">link</span><span class="p">,</span><span class="nx">weboot_key</span><span class="p">)</span>
<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>åŠŸèƒ½å®ç°æˆªå›¾ï¼š</p>

<p><img src="/assets/2020/issue-feedback-room-monitor/qrcode-push.webp" alt="1" /></p>

<p><strong>4ã€æ¶ˆæ¯ç›‘å¬å›è°ƒï¼ˆ<code class="language-plaintext highlighter-rouge">src/onMessage.js</code>ï¼‰</strong></p>

<p>ä¸»è¦å®ç°å¯¹ç¾¤æ¶ˆæ¯è¿›è¡Œç›‘å¬ï¼Œå°†ç›‘å¬åˆ°èŠå¤©æ¶ˆæ¯å†™å…¥mysqlä¸­ã€‚</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">Message</span> <span class="p">}</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">wechaty</span><span class="dl">'</span>
<span class="k">import</span> <span class="nx">config</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./config</span><span class="dl">'</span> <span class="c1">// é…ç½®æ–‡ä»¶</span>
<span class="kd">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">config</span><span class="p">.</span><span class="nx">name</span> <span class="c1">// æœºå™¨äººåå­—</span>
<span class="k">import</span> <span class="nx">mysqldb</span>  <span class="k">from</span> <span class="dl">'</span><span class="s1">./onDatabaseOperation</span><span class="dl">'</span> <span class="c1">// è¿æ¥MySQLæ•°æ®åº“</span>

<span class="c1">// æ¶ˆæ¯ç›‘å¬å›è°ƒ</span>
<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">bot</span> <span class="o">=&gt;</span> <span class="p">{</span>
         <span class="k">return</span> <span class="k">async</span> <span class="kd">function</span> <span class="nf">onMessage</span><span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
             <span class="c1">// åˆ¤æ–­æ¶ˆæ¯æ¥è‡ªè‡ªå·±ï¼Œç›´æ¥return</span>
             <span class="k">if </span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nf">self</span><span class="p">())</span> <span class="k">return</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">=============================</span><span class="dl">"</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`msg : </span><span class="p">${</span><span class="nx">msg</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`from: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">()</span> <span class="p">?</span> <span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">().</span><span class="nf">name</span><span class="p">()</span> <span class="p">:</span> <span class="kc">null</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">()</span> <span class="p">?</span> <span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">().</span><span class="nx">id</span> <span class="p">:</span> <span class="kc">null</span><span class="p">}</span><span class="s2"> `</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`to: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="nf">to</span><span class="p">()}</span><span class="s2">`</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`send_time: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="nf">date</span><span class="p">()}</span><span class="s2">`</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`text: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="nf">text</span><span class="p">()}</span><span class="s2"> `</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`isRoom: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="nf">room</span><span class="p">()}</span><span class="s2"> : </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="nf">room</span><span class="p">()</span> <span class="p">?</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">room</span><span class="p">().</span><span class="nx">id</span> <span class="p">:</span> <span class="kc">null</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">=============================</span><span class="dl">"</span><span class="p">)</span>

             <span class="c1">// åˆ¤æ–­æ­¤æ¶ˆæ¯ç±»å‹æ˜¯å¦ä¸ºç¾¤æ¶ˆæ¯</span>
             <span class="k">if </span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nf">room</span><span class="p">())</span> <span class="p">{</span>
                  <span class="kd">const</span> <span class="nx">room</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">room</span><span class="p">()</span> <span class="c1">// è·å–ç¾¤èŠ</span>
                  <span class="kd">const</span> <span class="nx">room_name</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">room</span><span class="p">}</span><span class="s2"> `</span> <span class="c1">// è·å–ç¾¤åç§°</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`ç¾¤åç§°ï¼š`</span> <span class="o">+</span> <span class="nx">room_name</span><span class="p">.</span><span class="nf">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="nx">room_name</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
                  <span class="kd">const</span> <span class="nx">room_id</span> <span class="o">=</span> <span class="nx">room</span><span class="p">.</span><span class="nx">id</span> <span class="c1">// è·å–ç¾¤ID</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`ç¾¤id ï¼š`</span> <span class="o">+</span> <span class="nx">room_id</span><span class="p">)</span>
                  <span class="kd">let</span> <span class="nx">sender_alias</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">room</span><span class="p">.</span><span class="nf">alias</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">())</span> <span class="c1">//è·å–å‘ä¿¡äººç¾¤æ˜µç§°</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`å‘ä¿¡äººçš„ç¾¤æ˜µç§°ï¼š`</span> <span class="o">+</span> <span class="nx">sender_alias</span><span class="p">)</span>
             <span class="k">if </span><span class="p">(</span><span class="nx">sender_alias</span> <span class="o">==</span> <span class="kc">null</span><span class="p">){</span>
                  <span class="nx">sender_alias</span> <span class="o">=</span> <span class="dl">""</span>
             <span class="p">}</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`å‘ä¿¡äººçš„ç¾¤æ˜µç§°ï¼š`</span> <span class="o">+</span> <span class="nx">sender_alias</span><span class="p">)</span>
             <span class="kd">const</span> <span class="nx">sender_name</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">().</span><span class="nf">name</span><span class="p">()</span> <span class="c1">//è·å–å‘ä¿¡äººå¾®ä¿¡åç§°</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`å‘ä¿¡äººçš„å¾®ä¿¡åç§°ï¼š`</span> <span class="o">+</span> <span class="nx">sender_name</span><span class="p">)</span>
             <span class="kd">const</span> <span class="nx">msg_date</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">date</span><span class="p">()</span> <span class="c1">// è·å–æ¶ˆæ¯å‘é€æ—¶é—´</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`æ¶ˆæ¯å‘é€æ—¶é—´: </span><span class="p">${</span><span class="nx">msg</span><span class="p">.</span><span class="nf">date</span><span class="p">()}</span><span class="s2">`</span><span class="p">)</span>
             <span class="kd">const</span> <span class="nx">msg_type</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">type</span><span class="p">()</span> <span class="c1">// è·å–æ¶ˆæ¯ç±»å‹</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`æ¶ˆæ¯ç±»å‹ï¼š`</span> <span class="o">+</span> <span class="nx">msg_type</span><span class="p">)</span>
             <span class="kd">var</span> <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">""</span> <span class="c1">// è·å–æ¶ˆæ¯å†…å®¹</span>

             <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Text</span> <span class="o">||</span> <span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Url</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">text</span><span class="p">()</span>
             <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Attachment</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºé™„ä»¶</span><span class="dl">"</span>
             <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Audio</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºéŸ³é¢‘</span><span class="dl">"</span>
             <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Contact</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºè”ç³»äºº</span><span class="dl">"</span>
             <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Emoticon</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºè¡¨æƒ…åŒ…</span><span class="dl">"</span>
             <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Image</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºå›¾ç‰‡</span><span class="dl">"</span>
             <span class="p">}</span> <span class="k">else</span> <span class="k">if </span><span class="p">(</span><span class="nx">msg_type</span> <span class="o">==</span> <span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Video</span><span class="p">){</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºè§†é¢‘</span><span class="dl">"</span>
             <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                  <span class="nx">msg_content</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">æ¶ˆæ¯å†…å®¹ç±»å‹ä¸ºæœªçŸ¥</span><span class="dl">"</span>
             <span class="p">}</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`æ¶ˆæ¯å†…å®¹ï¼š`</span> <span class="o">+</span> <span class="nx">msg_content</span><span class="p">)</span>

             <span class="c1">// æ¶ˆæ¯å…¥åº“sql</span>
             <span class="kd">var</span> <span class="nx">sql</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">insert into wechat_room_chat_record(id,room_name,room_id,sender_name,sender_alias,msg_content,msg_type,issue_flag,msg_date) values(?,?,?,?,?,?,?,?,?)</span><span class="dl">"</span>

             <span class="c1">// å…¥åº“sqlæ¶ˆæ¯å˜é‡</span>
             <span class="kd">var</span> <span class="nx">sqlParams</span> <span class="o">=</span> <span class="p">[</span><span class="nx">process</span><span class="p">.</span><span class="nx">hrtime</span><span class="p">.</span><span class="nf">bigint</span><span class="p">(),</span><span class="nx">room_name</span><span class="p">.</span><span class="nf">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="nx">room_name</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span><span class="nx">room_id</span><span class="p">,</span><span class="nx">sender_name</span><span class="p">,</span><span class="nx">sender_alias</span><span class="p">,</span><span class="nx">msg_content</span><span class="p">,</span><span class="nx">msg_type</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">msg_date</span><span class="p">]</span>
             <span class="nx">mysqldb</span><span class="p">.</span><span class="nc">InsertData</span><span class="p">(</span><span class="nx">sql</span><span class="p">,</span><span class="nx">sqlParams</span><span class="p">)</span>
             <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`å…¥åº“æ—¶é—´æˆ³ï¼š`</span> <span class="o">+</span> <span class="nx">process</span><span class="p">.</span><span class="nx">hrtime</span><span class="p">.</span><span class="nf">bigint</span><span class="p">())</span>

             <span class="c1">// æ”¶åˆ°æ¶ˆæ¯ï¼Œæåˆ°è‡ªå·±</span>
             <span class="k">if </span><span class="p">(</span><span class="k">await</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">mentionSelf</span><span class="p">())</span> <span class="p">{</span>
                   <span class="c1">// è·å–æåˆ°è‡ªå·±çš„åå­—</span>
                   <span class="kd">let</span> <span class="nb">self</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">to</span><span class="p">()</span>
                   <span class="nx">self_format</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">@</span><span class="dl">"</span> <span class="o">+</span> <span class="nb">self</span><span class="p">.</span><span class="nf">name</span><span class="p">()</span>
                   <span class="kd">const</span> <span class="nx">self_name</span> <span class="o">=</span> <span class="nb">self</span><span class="p">.</span><span class="nf">name</span><span class="p">()</span> <span class="c1">//è·å–æœºå™¨äººè‡ªå·±çš„å¾®ä¿¡åç§°</span>
                   <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">è‡ªå·±çš„å¾®ä¿¡åç§°ï¼š</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">self_name</span><span class="p">)</span>
                   <span class="kd">const</span> <span class="nx">self_alias</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">room</span><span class="p">.</span><span class="nf">alias</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nf">to</span><span class="p">())</span> <span class="c1">//è·å–æœºå™¨äººè‡ªå·±çš„ç¾¤æ˜µç§°</span>
                   <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">è‡ªå·±çš„ç¾¤æ˜µç§°ï¼š</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">self_alias</span><span class="p">)</span>
                   <span class="c1">// è·å–æ¶ˆæ¯å†…å®¹ï¼Œæ‹¿åˆ°æ•´ä¸ªæ¶ˆæ¯æ–‡æœ¬ï¼Œå»æ‰ @+åå­—</span>
                   <span class="kd">let</span> <span class="nx">sendText</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nf">text</span><span class="p">().</span><span class="nf">replace</span><span class="p">(</span><span class="nx">self_format</span><span class="p">,</span> <span class="dl">""</span><span class="p">).</span><span class="nf">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">,)</span>
                   <span class="c1">// è§„å®šå›å¤é—®é¢˜åé¦ˆæ¨¡ç‰ˆ</span>
                   <span class="kd">var</span> <span class="nx">report_template</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">å¦‚æ‚¨éœ€è¦åé¦ˆé—®é¢˜ï¼Œè¯·æŒ‰ç…§å¦‚ä¸‹æ¨¡ç‰ˆè¿›è¡Œæ‹·è´å¡«å†™ï¼Œè°¢è°¢ï¼š</span><span class="se">\n</span><span class="s2">é—®é¢˜åé¦ˆ</span><span class="se">\n</span><span class="s2">[1-é—®é¢˜æè¿°]:</span><span class="se">\n</span><span class="s2">[2-æˆªå›¾ä¿¡æ¯]:</span><span class="se">\n</span><span class="s2">[3-è´¦å·ä¿¡æ¯]: </span><span class="se">\n</span><span class="s2">[4-æ“ä½œç³»ç»Ÿ]:</span><span class="se">\n</span><span class="s2">[5-æµè§ˆå™¨]:</span><span class="se">\n</span><span class="s2">[6-å±å¹•åˆ†è¾¨ç‡]:</span><span class="se">\n</span><span class="s2">[7-ç§»åŠ¨è®¾å¤‡å‹å·(APPã€å°ç¨‹åºç›¸å…³é—®é¢˜)]:</span><span class="se">\n</span><span class="s2">[8-Appã€å°ç¨‹åºç‰ˆæœ¬ä¿¡æ¯(APPã€å°ç¨‹åºç›¸å…³é—®é¢˜)]:</span><span class="se">\n</span><span class="s2">[9-æ¨¡å—ä¿¡æ¯]: A-å®˜ç½‘å‰å°ã€B-å°ç¨‹åºã€C-APPã€D-å¥èŠ’åå°ã€D-å­¦ä¹ ä¸­å¿ƒã€F-CRMã€G-H5ç½‘é¡µã€H-è€åå°ã€I-å…¶ä»–</span><span class="dl">"</span>
                   <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">è‡ªåŠ¨å›å¤å†…å®¹ï¼š</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">report_template</span><span class="p">)</span>

                   <span class="c1">// è¿”å›æ¶ˆæ¯ï¼Œå¹¶@æ¥è‡ªäºº</span>
                   <span class="kd">var</span> <span class="nx">Datetemp1</span><span class="o">=</span> <span class="k">new</span> <span class="nc">Date</span><span class="p">();</span>
                   <span class="nx">room</span><span class="p">.</span><span class="nf">say</span><span class="p">(</span><span class="nx">report_template</span><span class="p">,</span> <span class="nx">msg</span><span class="p">.</span><span class="k">from</span><span class="p">())</span>
                   <span class="kd">const</span> <span class="nx">sql</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">insert into wechat_room_chat_record(id,room_name,room_id,sender_name,sender_alias,msg_content,msg_type,issue_flag,msg_date) values(?,?,?,?,?,?,?,?,?)</span><span class="dl">"</span>
                   <span class="kd">const</span> <span class="nx">sqlParams</span> <span class="o">=</span> <span class="p">[</span><span class="nx">process</span><span class="p">.</span><span class="nx">hrtime</span><span class="p">.</span><span class="nf">bigint</span><span class="p">(),</span><span class="nx">room_name</span><span class="p">.</span><span class="nf">substring</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="nx">room_name</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="nx">room_id</span><span class="p">,</span><span class="nx">self_name</span><span class="p">,</span><span class="nx">self_alias</span><span class="p">,</span><span class="nx">report_template</span><span class="p">,</span><span class="nx">Message</span><span class="p">.</span><span class="nx">Type</span><span class="p">.</span><span class="nx">Text</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nx">Datetemp1</span><span class="p">]</span>
                   <span class="nx">mysqldb</span><span class="p">.</span><span class="nc">InsertData</span><span class="p">(</span><span class="nx">sql</span><span class="p">,</span><span class="nx">sqlParams</span><span class="p">)</span>
                   <span class="k">return</span>
             <span class="p">}</span>
         <span class="p">}</span> <span class="k">else</span><span class="p">{</span>
         <span class="c1">// éç¾¤èŠä¸åšä»»ä½•å¤„ç†</span>
        <span class="k">return</span>
<span class="p">}}}</span>

</code></pre></div></div>

<p>å½“åœ¨ç¾¤é‡Œ@æœºå™¨äººçš„æ—¶å€™ï¼Œæœºå™¨äººä¼šè‡ªåŠ¨å›å¤é—®é¢˜åé¦ˆçš„æ¨¡ç‰ˆä¿¡æ¯ï¼š</p>

<p><img src="/assets/2020/issue-feedback-room-monitor/feedback-template.webp" alt="2" /></p>

<p>è¿™é‡Œç”±äºæ—¶é—´é—®é¢˜ï¼Œåšçš„ç›¸å¯¹ç®€å•ã€‚å¦‚æœæ—¶é—´å……åˆ†å®Œå…¨å¯ä»¥åšä¸€ä¸ªå¾®æœåŠ¡ï¼Œæ”¯æ’‘æœºå™¨äººæ›´å¥½åœ¨ç¾¤é‡Œä¸ä»–äººäº’åŠ¨ã€‚</p>

<p>æ¶ˆæ¯å…¥åº“ç¤ºä¾‹ï¼š</p>

<p><img src="/assets/2020/issue-feedback-room-monitor/chat-insert-into-db.webp" alt="3" /></p>

<p>è¿™å—ç›®å‰åªæ˜¯å®ç°äº†æ¶ˆæ¯å…¥åº“ï¼Œä½†æ˜¯å¯¹èŠå¤©ä¸­çš„å›¾ç‰‡ã€è§†é¢‘å’ŒéŸ³é¢‘æ–‡ä»¶çš„ä¿å­˜çš„åŠŸèƒ½éƒ¨åˆ†è¿˜æ²¡æœ‰æ•´åˆè¿›å»ï¼Œç›¸å…³éƒ¨åˆ†è¿˜å¤„äºæœ¬åœ°è°ƒè¯•è¿‡ç¨‹ä¸­ã€‚åç»­ä¼šåœ¨githubä¸Šæ›´æ–°æ­¤éƒ¨åˆ†ä»£ç ã€‚</p>

<p>å¯¹äºè‡ªåŠ¨è¯†åˆ«åˆ¤æ–­èŠå¤©ä¿¡æ¯æ˜¯å¦ä¸ºé—®é¢˜åé¦ˆç‚¹çš„åŠŸèƒ½éƒ¨åˆ†ã€‚ç›®å‰ä½¿ç”¨Pythonåˆ©ç”¨Jiebaçš„åˆ†è¯æ–¹æ¡ˆç»“åˆäººå·¥åæœŸç»Ÿè®¡çš„çƒ­è¯å­—å…¸ï¼Œå·²ç»è¾¾åˆ°è¯†åˆ«æ­£ç¡®ç‡&gt;90%ï¼Œè¯¯è¯†åˆ«ç‡&lt;10%çš„æ•ˆæœã€‚è¿™å—ä¹Ÿæ­£å¤„äºæœ¬åœ°æµ‹è¯•ä¸­ï¼Œç¨åä¼šæŠŠè¿™å—åŠŸèƒ½ç§»æ¤åˆ°node.jsï¼Œå¹¶é›†æˆåˆ°è¯¥é¡¹ç›®ä¸­ã€‚</p>

<p>è‡³äºæœ€åä¸¤ä¸ªç¯èŠ‚ï¼Œä¸€ä¸ªæ˜¯å°†é—®é¢˜åé¦ˆçš„å½•å…¥é—®é¢˜ç³»ç»Ÿä»¥åŠæ¯å¤©æœºå™¨äººç¾¤å†…æ’­æŠ¥å½“å¤©é—®é¢˜æƒ…å†µçš„åŠŸèƒ½ï¼Œä¹Ÿä¼šåœ¨ç¨åè¿›è¡Œå¼€å‘ã€‚å¹¶é›†æˆåˆ°è¯¥é¡¹ç›®ä¸­ã€‚</p>

			</article>

			<!-- Tags -->
			<div class="mb-4">
				<span class="taglist">
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#issue">issue</a>
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#padplus">padplus</a>
				
				</span>
			</div>

            <!-- Mailchimp Subscribe Form -->
            
			<div class="border p-5 bg-lightblue">
				<div class="row justify-content-between">
					<div class="col-md-6 mb-2 mb-md-0">
						<h5 class="font-weight-bold">Join Newsletter</h5>
						 Get the latest news right in your inbox. We never spam!
					</div>
					<div class="col-md-6">
						<div class="row">
              <form action="https://zixia.us4.list-manage.com/subscribe/post?u=a8584b55dea5aa8bbc14bd1a0&amp;id=d9899f0d70" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate w-100" target="_blank" novalidate>
                <input type="email" placeholder="Enter e-mail address" name="EMAIL" class="required email form-control w-100" id="mce-EMAIL" autocomplete="on" required>
                <input type="text"  placeholder="Name"                 name="FNAME" class="required form-control w-100"       id="mce-FNAME" autocomplete="on" required>
                <button type="submit" value="Subscribe" name="subscribe" class="heart btn btn-success btn-block w-100 mt-2">Subscribe</button>
              </form>
						</div>
					</div>
				</div>
			</div>
            


             <!-- Author Box -->
                
				<div class="row mt-5">
					<div class="col-md-2 align-self-center">
                        
                          <a href="/contributors/tomallv">
                            <img class="rounded-circle" src="/assets/contributors/tomallv/header.webp" alt="tomallv" width="90"/>
                          </a>
                        
					</div>
					<div class="col-md-10">
                        <h5 class="font-weight-bold">Written by <a href="/contributors/tomallv">tomallv</a> </h5>
						A veteran who stand fast and remain at testing for more than 10 years
					</div>
				</div>
                

            <!-- Comments -->
            
                <!--  Giscus embeds GitHub Discussions for per-post comments. Configuration intentionally hard-coded. -->

<div id="comments" class="mt-5">
    <script src="https://giscus.app/client.js"
            data-repo="wechaty/js.org"
            data-repo-id="R_kgDOHF4w6Q"
            data-category="General"
            data-category-id="DIC_kwDOHF4w6c4Cx6g7"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="1"
            data-input-position="bottom"
            data-theme="light"
            data-lang="en"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>
        Comments require JavaScript. You can also join the discussion on our
        <a href="https://github.com/wechaty/js.org/discussions/categories/general" rel="noopener" target="_blank">GitHub Discussions</a> page.
    </noscript>
</div>

            

		</div>


	</div>
</div>


<!-- Aletbar Prev/Next -->
<div class="alertbar">
    <div class="container">
        <div class="row prevnextlinks small font-weight-bold">
          
            <div class="col-md-6 rightborder pl-0">
                <a class="text-dark" href="/2020/08/31/wechaty-english-learning-assistant/"> <img height="30px" class="mr-1" src="https://wechaty.js.org/assets/2020/wechaty-english-learning-assistant/header.webp">  åŸºäºwechatyçš„è‹±è¯­å­¦ä¹ ç¾¤åŠ©æ‰‹</a>
            </div>
          
          
            <div class="col-md-6 text-right pr-0">
                <a class="text-dark" href="/2020/09/12/post-ts-to-python/"> Wechaty å°† TS è½¬å‘åˆ° Python çš„æ¢ç´¢å®è·µ  <img height="30px" class="ml-1" src="https://wechaty.js.org/assets/2020/post-ts-to-python/screenshot.webp"> </a>
            </div>
          
        </div>
    </div>
</div>

    </main>


    <!-- Scripts: popper, bootstrap, theme, lunr -->
    <script src="https://cdnjs.loli.net/ajax/libs/popper.js/1.14.6/umd/popper.min.js" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" crossorigin="anonymous"></script>

    <script src="/assets/js/theme.js"></script>

  





    <!-- Footer -->
    <footer class="bg-white border-top p-3 text-muted small">
        <div class="container">
        <div class="row align-items-center justify-content-between">
            <div>
                <a href="#" class="text-muted navbar-brand mr-2 mb-0">
                  <strong>Wechaty</strong>
                </a>
                <span>Copyright Â© <script>document.write(new Date().getFullYear())</script></span>
                |
                <a
                  class="text-muted"
                  target="_blank"
                  href="/branding/"
                >
                  Branding
                </a>

                <!--  Github Repo Star Btn-->
                <a class="text-dark ml-1" target="_blank" href="https://github.com/wechaty"><i class="fab fa-github"></i> </a>

            </div>

            <div class="text-gray">
              Powered by
              <a
                class="text-gray font-weight-bold"
                target="_blank"
                href="https://www.wowthemes.net/mundana-jekyll-theme/"
              >
                Mundana Jekyll Theme
              </a>
              .
            </div>
        </div>
        </div>
    </footer>

    <!-- All this area goes before             <script>
                window.onload = function () {
                    var script = document.createElement('script');
                    var firstScript = document.getElementsByTagName('script')[0];
                    script.type = 'text/javascript';
                    script.async = true;
                    script.src = '/sw-register.js?v=' + Date.now();
                    firstScript.parentNode.insertBefore(script, firstScript);
                };
            </script>
            </body>
 closing tag -->


</body>

</html>
