<!DOCTYPE html>
<html lang="en">
<head>
    <!-- https://github.com/t-richards/jekyll-google-tag-manager -->
    <!-- Begin Jekyll GTM tag v1.0.3 -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PD2PL84');</script>
<!-- End Jekyll GTM tag v1.0.3 -->


    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    

    <title>
      Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty | Wechaty
    </title>

    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty | Wechaty</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty" />
<meta name="author" content="finctive" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This post showcases the proof-of-concept for a plugin system for go-wechaty, a project from the Summer 2020 Open Source Promotion Plan. It details the design, implementation, and future plans for the plugin architecture." />
<meta property="og:description" content="This post showcases the proof-of-concept for a plugin system for go-wechaty, a project from the Summer 2020 Open Source Promotion Plan. It details the design, implementation, and future plans for the plugin architecture." />
<link rel="canonical" href="https://wechaty.js.org/2020/08/19/go-wechaty-plugin-poc-en/" />
<meta property="og:url" content="https://wechaty.js.org/2020/08/19/go-wechaty-plugin-poc-en/" />
<meta property="og:site_name" content="Wechaty" />
<meta property="og:image" content="https://wechaty.js.org/assets/2020/08-go-wechaty-plugin-poc-en/2020-08-19-go-wechaty.webp" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-19T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://wechaty.js.org/assets/2020/08-go-wechaty-plugin-poc-en/2020-08-19-go-wechaty.webp" />
<meta property="twitter:title" content="Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"finctive"},"dateModified":"2020-08-19T00:00:00+00:00","datePublished":"2020-08-19T00:00:00+00:00","description":"This post showcases the proof-of-concept for a plugin system for go-wechaty, a project from the Summer 2020 Open Source Promotion Plan. It details the design, implementation, and future plans for the plugin architecture.","headline":"Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty","image":"https://wechaty.js.org/assets/2020/08-go-wechaty-plugin-poc-en/2020-08-19-go-wechaty.webp","mainEntityOfPage":{"@type":"WebPage","@id":"https://wechaty.js.org/2020/08/19/go-wechaty-plugin-poc-en/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://wechaty.js.org/assets/images/logo.png"},"name":"finctive"},"url":"https://wechaty.js.org/2020/08/19/go-wechaty-plugin-poc-en/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico">

    <link rel="manifest" href="/manifest.json">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://s3.pstatp.com/cdn/expire-1-M/font-awesome/5.3.1/css/all.css" crossorigin="anonymous">

    <!-- Google Fonts in China Thanks @crossly @sidny -->
    <link href="https://fonts.loli.net/css?family=Lora" rel="stylesheet">

    <!-- Bootstrap Modified -->
    <link rel="stylesheet" href="/assets/css/main.css">

    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/assets/css/theme.css">

    <!-- Highlight Stylesheet -->
    <link rel="stylesheet" href="/assets/css/highlight.css">

    <!-- Jquery on header to make sure everything works, the rest  of the scripts in footer for fast loading -->
    <script
    src="https://s0.pstatp.com/cdn/expire-1-M/jquery/3.3.1/jquery.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

    




</head>

<body class="">
    <!-- https://github.com/t-richards/jekyll-google-tag-manager -->
    <!-- Begin Jekyll GTM tag v1.0.3 (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PD2PL84"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Jekyll GTM tag v1.0.3 (noscript) -->


    <!-- Navbar -->
    <nav id="MagicMenu" class="topnav navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/"><strong>Wechaty</strong></a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarColor02">
            <ul class="navbar-nav mr-auto d-flex align-items-center">
               <!--  Replace menu links here -->

<li class="nav-item">
  <a class="nav-link" href="/news/">News</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/blog/">Blog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://ship.fail" target="_blank">Ship.Fail</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://preangel.ai" target="_blank">PreAngel.AI</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/docs/">Docs</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="/contributors/">Contributors</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://github.com/wechaty/PMC#wechaty-committers" target="_blank">Talks</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="https://github.com/wechaty/wechaty#readme" target="_blank">GitHub</a>
</li>


            </ul>
            <ul class="navbar-nav ml-auto d-flex align-items-center">
                <li class="nav-item">
                  <a class="nav-link" href="/search/">Search</a>
                </li>
            </ul>
        </div>
    </div>
    </nav>

  <!-- Search results moved to a dedicated /search page -->

    <!-- Content -->
    <main role="main" class="site-content">
        

<div class="container">
<div class="jumbotron jumbotron-fluid mb-3 pl-0 pt-0 pb-0 bg-white position-relative">
		<div class="h-100 tofront">
			<div class="row  justify-content-between ">
				<div class=" col-md-6  pr-0 pr-md-4 pt-4 pb-4 align-self-center">
					<p class="text-uppercase font-weight-bold">
            <span class="catlist">

            
              <a class="sscroll text-danger" href="/categories.html#project">project</a><span class="sep">, </span>
            

            </span>
					</p>
					<h1 class="display-4 mb-4 article-headline">Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty</h1>
					<div class="d-flex align-items-center">
                        
                          <a href="/contributors/finctive">
                            <img class="rounded-circle" src="/assets/contributors/finctive/avatar.webp" alt="FINCTIVE" width="70"/>
                          </a>
                        
						<small class="ml-3"> <a href="/contributors/finctive">FINCTIVE</a> <span><a target="_blank" href="" class="btn btn-outline-success btn-sm btn-round ml-1">Follow</a></span>
                            <span class="text-muted d-block mt-1">Aug 19, 2020 · <span class="reading-time">
  
  
    5 mins read
  
</span>
</span>
						</small>
					</div>
				</div>
                
				<div class="col-md-6 pr-0 align-self-center">
					<img class="rounded" src="/assets/2020/08-go-wechaty-plugin-poc-en/2020-08-19-go-wechaty.webp" alt="Summer 2020: POC Showcase for Designing and Implementing a Plugin System for go-wechaty">
				</div>
                
			</div>
		</div>
	</div>
</div>





<div class="container-lg pt-4 pb-4">
	<div class="row justify-content-center">

    <!-- Share -->
<div class="col-lg-2 pr-4 mb-5 col-md-12">
  <div class="sticky-top sticky-top-offset text-center">
    <div class="text-muted">
    </div>
    <div class="share d-inline-block">
      <!-- AddToAny BEGIN -->
      <div class="a2a_kit a2a_kit_size_32 a2a_default_style">
        <img id="qrcode" title="Wechat"
          src="/assets/contributors/wechaty/icon.png"
          width="64" height="64"
        />
        <a class="a2a_button_twitter" title='Twitter'></a>
        <a class="a2a_button_linkedin" title='LinkedIn'></a>
        <a class="a2a_button_facebook" title='FaceBook'></a>
        <a class="a2a_dd" href="https://www.addtoany.com/share"></a>
      </div>
      <script async src="https://static.addtoany.com/menu/page.js"></script>
      <!-- AddToAny END -->
    </div>
  </div>
</div>

<script>
  var href = document.location.href
  var url = 'https://api.qrserver.com/v1/create-qr-code/?data='
            + href
            + '&size=512x512'
  var img = document.getElementById('qrcode')

  img.src=encodeURI(url)
</script>


		<div class="col-md-12 col-lg-8">

      <!-- Article -->
			<article class="article-post">
			<p>The “Open Source Promotion Plan - Summer 2020” (hereinafter referred to as Summer 2020) is a summer event for college students jointly organized by the Institute of Software, Chinese Academy of Sciences and the openEuler community. It aims to encourage students to actively participate in the development and maintenance of open source software and promote the vigorous development of outstanding open source software communities in China. Participants can also obtain bonuses and trophies from the “Open Source Promotion Plan - Summer 2020” event according to the difficulty and completion of the project.
Official website: <a href="https://isrc.iscas.ac.cn/summer2020">https://isrc.iscas.ac.cn/summer2020</a> Official news: <a href="http://www.iscas.ac.cn/xshd2016/xshy2016/202004/t20200426_5563484.html">http://www.iscas.ac.cn/xshd2016/xshy2016/202004/t20200426_5563484.html</a>
This project [Design and implement a plug-in system for go-wechaty] is an open source project supported by Summer 2020.</p>

<h2 id="design-and-implement-a-plug-in-system-for-go-wechaty-information">[Design and implement a plug-in system for go-wechaty] Information</h2>

<ul>
  <li>Mentors: Xiaoyu Ding (丁小雨), Chaofei Ding (丁超飞), Bojie Li (李博杰)</li>
  <li>Student: Haohan Lin (林昊翰)</li>
  <li>Project name: Design and implement a plug-in system for go-wechaty</li>
</ul>

<h3 id="description">Description</h3>

<p>wechaty is a WeChat access solution that supports multiple protocols. With the establishment of a multi-language ecosystem in the community, it has attracted more developers and enthusiasts to join; at the same time, driven by demand and technological development, the plug-in system has gradually improved, but in a multi-language system, the Plugin system has not yet been completed. We hope that through this task, more people can join the construction of go-wechaty.</p>

<p>At present, go-wechaty examples/ding-dong-bot.go has a ding-dong bot, but we hope that this ding-dong is universal. If our Plugin system can be written, maybe implementing ding-dong will only require one line of code.
For example:</p>

<div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bot</span><span class="o">.</span><span class="n">Use</span><span class="p">(</span><span class="n">DingDong</span><span class="p">{})</span>
</code></pre></div></div>

<p>go-wechaty is a project that implements wechaty in Go language, and also supports multi-protocol access; at the same time, with the help of the language features of goroutine and channel, it has achieved a more reasonable encapsulation and design.</p>

<h3 id="time-planning">Time planning</h3>

<p>Phase 1 (until August 15)</p>

<p>Write a plug-in mechanism design document. Among them, the document contains design ideas, implementation logic, and project changes involved. According to the characteristics of the Go language, the design of the plug-in mechanism is improved, and more possible solutions are tried to be considered. If necessary, corresponding experimental code should also be written.</p>

<p>Phase 2 (until September 30)</p>

<p>Write code according to the design document of the first stage to realize the plug-in mechanism of go-wechaty; use the go-wechaty plug-in mechanism to write a plug-in Demo.</p>

<h2 id="project-progress">Project progress</h2>

<p>Weekly development progress report: <a href="https://github.com/wechaty/summer-of-code/issues/9">Design and implement a plug-in system for go-wechaty · Issue #9 · wechaty/summer-of-code</a></p>

<p>In the weekly progress report, you can see the <strong>detailed process and progress</strong> of my project development.</p>

<p>Project-related code repositories:</p>

<ul>
  <li>Plug-in mechanism development branch <a href="https://github.com/FINCTIVE/go-wechaty/tree/plugin">FINCTIVE/go-wechaty</a></li>
  <li>Plug-in example code repository <a href="https://github.com/FINCTIVE/wechaty-demo-plugin">FINCTIVE/wechaty-demo-plugin</a></li>
</ul>

<h3 id="work-completed">Work completed</h3>

<ul>
  <li>At present, the preliminary design of the go-wechaty plug-in mechanism has been carried out, and <a href="https://github.com/wechaty/summer-of-code/issues/9#issuecomment-673422731">related documents</a> have been written. The current plug-in design still needs to be continuously improved and iterated.</li>
  <li>It was originally planned to start writing code in the second stage, but in order to express clearly and test feasibility, I have already written and implemented the code of the existing design.</li>
</ul>

<p>According to the original plan and time plan, I think I have some aspects that are not complete enough, and some aspects that are ahead of schedule; overall, it is qualified.</p>

<h3 id="problems-encountered-and-solutions">Problems encountered and solutions</h3>

<ul>
  <li>The first problem encountered in participating in the open source software supply chain lighting plan is: how to participate in the open source community and contribute to the open source community?</li>
</ul>

<p>This is a “from 0 to 1” problem. I have not participated in the development of large projects in the first two years of college, let alone open source projects with higher requirements. The remote collaborative development of open source projects is very attractive to me, but I have never had a suitable opportunity to participate in it (insufficient level, not knowing how to participate, etc. have made me give up taking the first step many times). This open source software supply chain lighting plan just provided this opportunity for me to participate in the project development in the Wechaty community. The Wechaty community is a very inclusive community, and the mentors in the community will patiently answer the questions raised by the students. The experience of this event has increased my experience in developing open source software, and at the same time strengthened my communication and communication skills. In my future development process, I will continue to contribute code to the open source community.</p>

<ul>
  <li>In the development process, Go program design is a certain degree of difficulty for me.</li>
</ul>

<p>My solution is mainly to learn and consult materials by myself. For some problems, the mentors in the community have given me a lot of help.</p>

<h3 id="follow-up-work-arrangement">Follow-up work arrangement</h3>

<p>Continue to develop and iterate according to the original plan.</p>

<h2 id="mentor-review-results">Mentor review results</h2>

<ul>
  <li>Project completion: Most of the coding work has been completed, and I look forward to merging into the main branch and finishing the work.</li>
  <li>Student participation: Completed 90% of the design work and 100% of the coding work; able to actively participate in related tasks.</li>
  <li>Code contribution: Under the guidance of the mentor, independently completed the design and coding of the multi-language project Go-Wechaty Plugin.</li>
  <li>Comprehensive evaluation and suggestions:
    <ul>
      <li>Evaluation: Haohan has a clear plan during the project, and the weekly progress report has corresponding results and progress; the initial design document was prepared in the early stage, and the relevant code was implemented according to the document; the shortcomings and deviations of the early design were found in the implementation, and he was able to complete the optimization through communication and learning with the mentor.</li>
      <li>Suggestion: The community is very inclusive and free. You can submit code requests to the main branch at will. As long as it can reach a certain degree of completeness, it will be merged into the main branch. If it is not reached, you can also get help from other contributors; there is still some work to be merged into the main branch, and I look forward to your results.</li>
    </ul>
  </li>
  <li>Final review result: Pass</li>
</ul>

<h2 id="contact-us">Contact us</h2>

<ul>
  <li>Project link: <a href="https://github.com/wechaty/go-wechaty">wechaty/go-wechaty</a></li>
  <li>Contact: finctive@foxmail.com</li>
</ul>

<hr />

<blockquote>
  <p>This is a translated version of the original Chinese post. You can find the original post <a href="/2020/08/19/go-wechaty-plugin-poc/">here</a>.</p>
</blockquote>

			</article>

			<!-- Tags -->
			<div class="mb-4">
				<span class="taglist">
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#plugins">plugins</a>
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#summer-of-wechaty">summer-of-wechaty</a>
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#summer-2020">summer-2020</a>
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#go">go</a>
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/tags.html#ecosystem">ecosystem</a>
				
				</span>
			</div>

            <!-- Mailchimp Subscribe Form -->
            
			<div class="border p-5 bg-lightblue">
				<div class="row justify-content-between">
					<div class="col-md-6 mb-2 mb-md-0">
						<h5 class="font-weight-bold">Join Newsletter</h5>
						 Get the latest news right in your inbox. We never spam!
					</div>
					<div class="col-md-6">
						<div class="row">
              <form action="https://zixia.us4.list-manage.com/subscribe/post?u=a8584b55dea5aa8bbc14bd1a0&amp;id=d9899f0d70" method="post" name="mc-embedded-subscribe-form" class="wj-contact-form validate w-100" target="_blank" novalidate>
                <input type="email" placeholder="Enter e-mail address" name="EMAIL" class="required email form-control w-100" id="mce-EMAIL" autocomplete="on" required>
                <input type="text"  placeholder="Name"                 name="FNAME" class="required form-control w-100"       id="mce-FNAME" autocomplete="on" required>
                <button type="submit" value="Subscribe" name="subscribe" class="heart btn btn-success btn-block w-100 mt-2">Subscribe</button>
              </form>
						</div>
					</div>
				</div>
			</div>
            


             <!-- Author Box -->
                
				<div class="row mt-5">
					<div class="col-md-2 align-self-center">
                        
                          <a href="/contributors/finctive">
                            <img class="rounded-circle" src="/assets/contributors/finctive/avatar.webp" alt="FINCTIVE" width="90"/>
                          </a>
                        
					</div>
					<div class="col-md-10">
                        <h5 class="font-weight-bold">Written by <a href="/contributors/finctive">FINCTIVE</a> </h5>
						
					</div>
				</div>
                

            <!-- Comments -->
            
                <!--  Giscus embeds GitHub Discussions for per-post comments. Configuration intentionally hard-coded. -->

<div id="comments" class="mt-5">
    <script src="https://giscus.app/client.js"
            data-repo="wechaty/js.org"
            data-repo-id="R_kgDOHF4w6Q"
            data-category="General"
            data-category-id="DIC_kwDOHF4w6c4Cx6g7"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="1"
            data-input-position="bottom"
            data-theme="light"
            data-lang="en"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>
        Comments require JavaScript. You can also join the discussion on our
        <a href="https://github.com/wechaty/js.org/discussions/categories/general" rel="noopener" target="_blank">GitHub Discussions</a> page.
    </noscript>
</div>

            

		</div>


	</div>
</div>


<!-- Aletbar Prev/Next -->
<div class="alertbar">
    <div class="container">
        <div class="row prevnextlinks small font-weight-bold">
          
            <div class="col-md-6 rightborder pl-0">
                <a class="text-dark" href="/2020/08/18/wechaty-for-new-student/"> <img height="30px" class="mr-1" src="https://wechaty.js.org/assets/2020/wechat-bot/header.webp">  一个简单的微信群组「关键字」回答机器人</a>
            </div>
          
          
            <div class="col-md-6 text-right pr-0">
                <a class="text-dark" href="/2020/08/19/go-wechaty-plugin-poc/"> 暑期2020 [为 go-wechaty 设计实现插件体系] POC 成果展示  <img height="30px" class="ml-1" src="https://wechaty.js.org/assets/2020/08-go-wechaty-plugin-poc-en/2020-08-19-go-wechaty.webp"> </a>
            </div>
          
        </div>
    </div>
</div>

    </main>


    <!-- Scripts: popper, bootstrap, theme, lunr -->
    <script src="https://cdnjs.loli.net/ajax/libs/popper.js/1.14.6/umd/popper.min.js" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" crossorigin="anonymous"></script>

    <script src="/assets/js/theme.js"></script>

  





    <!-- Footer -->
    <footer class="bg-white border-top p-3 text-muted small">
        <div class="container">
        <div class="row align-items-center justify-content-between">
            <div>
                <a href="#" class="text-muted navbar-brand mr-2 mb-0">
                  <strong>Wechaty</strong>
                </a>
                <span>Copyright © <script>document.write(new Date().getFullYear())</script></span>
                |
                <a
                  class="text-muted"
                  target="_blank"
                  href="/branding/"
                >
                  Branding
                </a>

                <!--  Github Repo Star Btn-->
                <a class="text-dark ml-1" target="_blank" href="https://github.com/wechaty"><i class="fab fa-github"></i> </a>

            </div>

            <div class="text-gray">
              Powered by
              <a
                class="text-gray font-weight-bold"
                target="_blank"
                href="https://www.wowthemes.net/mundana-jekyll-theme/"
              >
                Mundana Jekyll Theme
              </a>
              .
            </div>
        </div>
        </div>
    </footer>

    <!-- All this area goes before             <script>
                window.onload = function () {
                    var script = document.createElement('script');
                    var firstScript = document.getElementsByTagName('script')[0];
                    script.type = 'text/javascript';
                    script.async = true;
                    script.src = '/sw-register.js?v=' + Date.now();
                    firstScript.parentNode.insertBefore(script, firstScript);
                };
            </script>
            </body>
 closing tag -->


</body>

</html>
